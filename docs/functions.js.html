<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: functions.js</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":true,"applicationName":"Rekord","linenums":true,"default":{"outputSourceFiles":true}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Rekord</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Rekord">
            <span class="title">
                <a href="Rekord.html">Rekord</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.fileProcessors"><a href="Rekord.html#.fileProcessors">fileProcessors</a></li>
            
                <li data-name="Rekord.Wheres"><a href="Rekord.html#.Wheres">Wheres</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.bind"><a href="Rekord.html#.bind">bind</a></li>
            
                <li data-name="Rekord.collect"><a href="Rekord.html#.collect">collect</a></li>
            
                <li data-name="Rekord.createComparator"><a href="Rekord.html#.createComparator">createComparator</a></li>
            
                <li data-name="Rekord.createPropertyResolver"><a href="Rekord.html#.createPropertyResolver">createPropertyResolver</a></li>
            
                <li data-name="Rekord.createWhere"><a href="Rekord.html#.createWhere">createWhere</a></li>
            
                <li data-name="Rekord.indexOf"><a href="Rekord.html#.indexOf">indexOf</a></li>
            
                <li data-name="Rekord.isArray"><a href="Rekord.html#.isArray">isArray</a></li>
            
                <li data-name="Rekord.isBoolean"><a href="Rekord.html#.isBoolean">isBoolean</a></li>
            
                <li data-name="Rekord.isDate"><a href="Rekord.html#.isDate">isDate</a></li>
            
                <li data-name="Rekord.isDefined"><a href="Rekord.html#.isDefined">isDefined</a></li>
            
                <li data-name="Rekord.isFunction"><a href="Rekord.html#.isFunction">isFunction</a></li>
            
                <li data-name="Rekord.isNumber"><a href="Rekord.html#.isNumber">isNumber</a></li>
            
                <li data-name="Rekord.isObject"><a href="Rekord.html#.isObject">isObject</a></li>
            
                <li data-name="Rekord.isRegExp"><a href="Rekord.html#.isRegExp">isRegExp</a></li>
            
                <li data-name="Rekord.isRekord"><a href="Rekord.html#.isRekord">isRekord</a></li>
            
                <li data-name="Rekord.isString"><a href="Rekord.html#.isString">isString</a></li>
            
                <li data-name="Rekord.isValue"><a href="Rekord.html#.isValue">isValue</a></li>
            
                <li data-name="Rekord.live"><a href="Rekord.html#.live">live</a></li>
            
                <li data-name="Rekord.noop"><a href="Rekord.html#.noop">noop</a></li>
            
                <li data-name="Rekord.propsMatch"><a href="Rekord.html#.propsMatch">propsMatch</a></li>
            
                <li data-name="Rekord.saveWhere"><a href="Rekord.html#.saveWhere">saveWhere</a></li>
            
                <li data-name="Rekord.store"><a href="Rekord.html#.store">store</a></li>
            
                <li data-name="Rekord.toArray"><a href="Rekord.html#.toArray">toArray</a></li>
            
                <li data-name="Rekord.uuid"><a href="Rekord.html#.uuid">uuid</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="eventize">
            <span class="title">
                <a href="global.html#eventize">eventize</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Collection">
            <span class="title">
                <a href="Rekord.Collection.html">Rekord.Collection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.Collection.Events"><a href="Rekord.Collection.html#.Events">Events</a></li>
            
                <li data-name="Rekord.Collection#comparator"><a href="Rekord.Collection.html#comparator">comparator</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.Collection#add"><a href="Rekord.Collection.html#add">add</a></li>
            
                <li data-name="Rekord.Collection#addAll"><a href="Rekord.Collection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.Collection#addComparator"><a href="Rekord.Collection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.Collection#aggregate"><a href="Rekord.Collection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.Collection#avg"><a href="Rekord.Collection.html#avg">avg</a></li>
            
                <li data-name="Rekord.Collection#change"><a href="Rekord.Collection.html#change">change</a></li>
            
                <li data-name="Rekord.Collection#chunk"><a href="Rekord.Collection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.Collection#clear"><a href="Rekord.Collection.html#clear">clear</a></li>
            
                <li data-name="Rekord.Collection#clone"><a href="Rekord.Collection.html#clone">clone</a></li>
            
                <li data-name="Rekord.Collection#cloneEmpty"><a href="Rekord.Collection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.Collection#complement"><a href="Rekord.Collection.html#complement">complement</a></li>
            
                <li data-name="Rekord.Collection#contains"><a href="Rekord.Collection.html#contains">contains</a></li>
            
                <li data-name="Rekord.Collection#count"><a href="Rekord.Collection.html#count">count</a></li>
            
                <li data-name="Rekord.Collection#countWhere"><a href="Rekord.Collection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.Collection#each"><a href="Rekord.Collection.html#each">each</a></li>
            
                <li data-name="Rekord.Collection#filtered"><a href="Rekord.Collection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.Collection#first"><a href="Rekord.Collection.html#first">first</a></li>
            
                <li data-name="Rekord.Collection#firstWhere"><a href="Rekord.Collection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.Collection#group"><a href="Rekord.Collection.html#group">group</a></li>
            
                <li data-name="Rekord.Collection#indexOf"><a href="Rekord.Collection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.Collection#insertAt"><a href="Rekord.Collection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.Collection#intersect"><a href="Rekord.Collection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.Collection#isSorted"><a href="Rekord.Collection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.Collection#last"><a href="Rekord.Collection.html#last">last</a></li>
            
                <li data-name="Rekord.Collection#lastWhere"><a href="Rekord.Collection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.Collection#max"><a href="Rekord.Collection.html#max">max</a></li>
            
                <li data-name="Rekord.Collection#maxModel"><a href="Rekord.Collection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.Collection#min"><a href="Rekord.Collection.html#min">min</a></li>
            
                <li data-name="Rekord.Collection#minModel"><a href="Rekord.Collection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.Collection#page"><a href="Rekord.Collection.html#page">page</a></li>
            
                <li data-name="Rekord.Collection#pluck"><a href="Rekord.Collection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.Collection#pop"><a href="Rekord.Collection.html#pop">pop</a></li>
            
                <li data-name="Rekord.Collection#push"><a href="Rekord.Collection.html#push">push</a></li>
            
                <li data-name="Rekord.Collection#random"><a href="Rekord.Collection.html#random">random</a></li>
            
                <li data-name="Rekord.Collection#reduce"><a href="Rekord.Collection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.Collection#remove"><a href="Rekord.Collection.html#remove">remove</a></li>
            
                <li data-name="Rekord.Collection#removeAll"><a href="Rekord.Collection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.Collection#removeAt"><a href="Rekord.Collection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.Collection#removeWhere"><a href="Rekord.Collection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.Collection#reverse"><a href="Rekord.Collection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.Collection#setComparator"><a href="Rekord.Collection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.Collection#shift"><a href="Rekord.Collection.html#shift">shift</a></li>
            
                <li data-name="Rekord.Collection#sort"><a href="Rekord.Collection.html#sort">sort</a></li>
            
                <li data-name="Rekord.Collection#splice"><a href="Rekord.Collection.html#splice">splice</a></li>
            
                <li data-name="Rekord.Collection#subtract"><a href="Rekord.Collection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.Collection#sum"><a href="Rekord.Collection.html#sum">sum</a></li>
            
                <li data-name="Rekord.Collection#toArray"><a href="Rekord.Collection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.Collection#unshift"><a href="Rekord.Collection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.Collection#where"><a href="Rekord.Collection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.Collection#event:add"><a href="Rekord.Collection.html#event:add">add</a></li>
            
                <li data-name="Rekord.Collection#event:adds"><a href="Rekord.Collection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.Collection#event:changes"><a href="Rekord.Collection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.Collection#event:cleared"><a href="Rekord.Collection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.Collection#event:remove"><a href="Rekord.Collection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.Collection#event:removes"><a href="Rekord.Collection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.Collection#event:reset"><a href="Rekord.Collection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.Collection#event:sort"><a href="Rekord.Collection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.Collection#event:updates"><a href="Rekord.Collection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.FilteredCollection">
            <span class="title">
                <a href="Rekord.FilteredCollection.html">Rekord.FilteredCollection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.FilteredCollection#base"><a href="Rekord.FilteredCollection.html#base">base</a></li>
            
                <li data-name="Rekord.FilteredCollection#comparator"><a href="Rekord.FilteredCollection.html#comparator">comparator</a></li>
            
                <li data-name="Rekord.FilteredCollection#filter"><a href="Rekord.FilteredCollection.html#filter">filter</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.FilteredCollection#add"><a href="Rekord.FilteredCollection.html#add">add</a></li>
            
                <li data-name="Rekord.FilteredCollection#addAll"><a href="Rekord.FilteredCollection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.FilteredCollection#addComparator"><a href="Rekord.FilteredCollection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.FilteredCollection#aggregate"><a href="Rekord.FilteredCollection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.FilteredCollection#avg"><a href="Rekord.FilteredCollection.html#avg">avg</a></li>
            
                <li data-name="Rekord.FilteredCollection#change"><a href="Rekord.FilteredCollection.html#change">change</a></li>
            
                <li data-name="Rekord.FilteredCollection#chunk"><a href="Rekord.FilteredCollection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.FilteredCollection#clear"><a href="Rekord.FilteredCollection.html#clear">clear</a></li>
            
                <li data-name="Rekord.FilteredCollection#clone"><a href="Rekord.FilteredCollection.html#clone">clone</a></li>
            
                <li data-name="Rekord.FilteredCollection#cloneEmpty"><a href="Rekord.FilteredCollection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.FilteredCollection#complement"><a href="Rekord.FilteredCollection.html#complement">complement</a></li>
            
                <li data-name="Rekord.FilteredCollection#connect"><a href="Rekord.FilteredCollection.html#connect">connect</a></li>
            
                <li data-name="Rekord.FilteredCollection#contains"><a href="Rekord.FilteredCollection.html#contains">contains</a></li>
            
                <li data-name="Rekord.FilteredCollection#count"><a href="Rekord.FilteredCollection.html#count">count</a></li>
            
                <li data-name="Rekord.FilteredCollection#countWhere"><a href="Rekord.FilteredCollection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#disconnect"><a href="Rekord.FilteredCollection.html#disconnect">disconnect</a></li>
            
                <li data-name="Rekord.FilteredCollection#each"><a href="Rekord.FilteredCollection.html#each">each</a></li>
            
                <li data-name="Rekord.FilteredCollection#filtered"><a href="Rekord.FilteredCollection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.FilteredCollection#first"><a href="Rekord.FilteredCollection.html#first">first</a></li>
            
                <li data-name="Rekord.FilteredCollection#firstWhere"><a href="Rekord.FilteredCollection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#group"><a href="Rekord.FilteredCollection.html#group">group</a></li>
            
                <li data-name="Rekord.FilteredCollection#indexOf"><a href="Rekord.FilteredCollection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.FilteredCollection#init"><a href="Rekord.FilteredCollection.html#init">init</a></li>
            
                <li data-name="Rekord.FilteredCollection#insertAt"><a href="Rekord.FilteredCollection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.FilteredCollection#intersect"><a href="Rekord.FilteredCollection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.FilteredCollection#isSorted"><a href="Rekord.FilteredCollection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.FilteredCollection#last"><a href="Rekord.FilteredCollection.html#last">last</a></li>
            
                <li data-name="Rekord.FilteredCollection#lastWhere"><a href="Rekord.FilteredCollection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#max"><a href="Rekord.FilteredCollection.html#max">max</a></li>
            
                <li data-name="Rekord.FilteredCollection#maxModel"><a href="Rekord.FilteredCollection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.FilteredCollection#min"><a href="Rekord.FilteredCollection.html#min">min</a></li>
            
                <li data-name="Rekord.FilteredCollection#minModel"><a href="Rekord.FilteredCollection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.FilteredCollection#page"><a href="Rekord.FilteredCollection.html#page">page</a></li>
            
                <li data-name="Rekord.FilteredCollection#pluck"><a href="Rekord.FilteredCollection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.FilteredCollection#pop"><a href="Rekord.FilteredCollection.html#pop">pop</a></li>
            
                <li data-name="Rekord.FilteredCollection#push"><a href="Rekord.FilteredCollection.html#push">push</a></li>
            
                <li data-name="Rekord.FilteredCollection#random"><a href="Rekord.FilteredCollection.html#random">random</a></li>
            
                <li data-name="Rekord.FilteredCollection#reduce"><a href="Rekord.FilteredCollection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.FilteredCollection#remove"><a href="Rekord.FilteredCollection.html#remove">remove</a></li>
            
                <li data-name="Rekord.FilteredCollection#removeAll"><a href="Rekord.FilteredCollection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.FilteredCollection#removeAt"><a href="Rekord.FilteredCollection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.FilteredCollection#removeWhere"><a href="Rekord.FilteredCollection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#reverse"><a href="Rekord.FilteredCollection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.FilteredCollection#setComparator"><a href="Rekord.FilteredCollection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.FilteredCollection#setFilter"><a href="Rekord.FilteredCollection.html#setFilter">setFilter</a></li>
            
                <li data-name="Rekord.FilteredCollection#shift"><a href="Rekord.FilteredCollection.html#shift">shift</a></li>
            
                <li data-name="Rekord.FilteredCollection#sort"><a href="Rekord.FilteredCollection.html#sort">sort</a></li>
            
                <li data-name="Rekord.FilteredCollection#splice"><a href="Rekord.FilteredCollection.html#splice">splice</a></li>
            
                <li data-name="Rekord.FilteredCollection#subtract"><a href="Rekord.FilteredCollection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.FilteredCollection#sum"><a href="Rekord.FilteredCollection.html#sum">sum</a></li>
            
                <li data-name="Rekord.FilteredCollection#sync"><a href="Rekord.FilteredCollection.html#sync">sync</a></li>
            
                <li data-name="Rekord.FilteredCollection#toArray"><a href="Rekord.FilteredCollection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.FilteredCollection#unshift"><a href="Rekord.FilteredCollection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.FilteredCollection#where"><a href="Rekord.FilteredCollection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.FilteredCollection#event:add"><a href="Rekord.FilteredCollection.html#event:add">add</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:adds"><a href="Rekord.FilteredCollection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:changes"><a href="Rekord.FilteredCollection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:cleared"><a href="Rekord.FilteredCollection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:remove"><a href="Rekord.FilteredCollection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:removes"><a href="Rekord.FilteredCollection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:reset"><a href="Rekord.FilteredCollection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:sort"><a href="Rekord.FilteredCollection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:updates"><a href="Rekord.FilteredCollection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Map">
            <span class="title">
                <a href="Rekord.Map.html">Rekord.Map</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.Map#indices"><a href="Rekord.Map.html#indices">indices</a></li>
            
                <li data-name="Rekord.Map#keys"><a href="Rekord.Map.html#keys">keys</a></li>
            
                <li data-name="Rekord.Map#values"><a href="Rekord.Map.html#values">values</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.Map#filter"><a href="Rekord.Map.html#filter">filter</a></li>
            
                <li data-name="Rekord.Map#get"><a href="Rekord.Map.html#get">get</a></li>
            
                <li data-name="Rekord.Map#has"><a href="Rekord.Map.html#has">has</a></li>
            
                <li data-name="Rekord.Map#isSorted"><a href="Rekord.Map.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.Map#put"><a href="Rekord.Map.html#put">put</a></li>
            
                <li data-name="Rekord.Map#rebuildIndex"><a href="Rekord.Map.html#rebuildIndex">rebuildIndex</a></li>
            
                <li data-name="Rekord.Map#remove"><a href="Rekord.Map.html#remove">remove</a></li>
            
                <li data-name="Rekord.Map#removeAt"><a href="Rekord.Map.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.Map#reset"><a href="Rekord.Map.html#reset">reset</a></li>
            
                <li data-name="Rekord.Map#reverse"><a href="Rekord.Map.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.Map#size"><a href="Rekord.Map.html#size">size</a></li>
            
                <li data-name="Rekord.Map#sort"><a href="Rekord.Map.html#sort">sort</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Model">
            <span class="title">
                <a href="Rekord.Model.html">Rekord.Model</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.ModelCollection">
            <span class="title">
                <a href="Rekord.ModelCollection.html">Rekord.ModelCollection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.ModelCollection#comparator"><a href="Rekord.ModelCollection.html#comparator">comparator</a></li>
            
                <li data-name="Rekord.ModelCollection#database"><a href="Rekord.ModelCollection.html#database">database</a></li>
            
                <li data-name="Rekord.ModelCollection#map"><a href="Rekord.ModelCollection.html#map">map</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.ModelCollection#add"><a href="Rekord.ModelCollection.html#add">add</a></li>
            
                <li data-name="Rekord.ModelCollection#addAll"><a href="Rekord.ModelCollection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.ModelCollection#addComparator"><a href="Rekord.ModelCollection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.ModelCollection#aggregate"><a href="Rekord.ModelCollection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.ModelCollection#avg"><a href="Rekord.ModelCollection.html#avg">avg</a></li>
            
                <li data-name="Rekord.ModelCollection#buildKeyFromInput"><a href="Rekord.ModelCollection.html#buildKeyFromInput">buildKeyFromInput</a></li>
            
                <li data-name="Rekord.ModelCollection#change"><a href="Rekord.ModelCollection.html#change">change</a></li>
            
                <li data-name="Rekord.ModelCollection#chunk"><a href="Rekord.ModelCollection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.ModelCollection#clear"><a href="Rekord.ModelCollection.html#clear">clear</a></li>
            
                <li data-name="Rekord.ModelCollection#clone"><a href="Rekord.ModelCollection.html#clone">clone</a></li>
            
                <li data-name="Rekord.ModelCollection#cloneEmpty"><a href="Rekord.ModelCollection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.ModelCollection#complement"><a href="Rekord.ModelCollection.html#complement">complement</a></li>
            
                <li data-name="Rekord.ModelCollection#contains"><a href="Rekord.ModelCollection.html#contains">contains</a></li>
            
                <li data-name="Rekord.ModelCollection#count"><a href="Rekord.ModelCollection.html#count">count</a></li>
            
                <li data-name="Rekord.ModelCollection#countWhere"><a href="Rekord.ModelCollection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#each"><a href="Rekord.ModelCollection.html#each">each</a></li>
            
                <li data-name="Rekord.ModelCollection#filtered"><a href="Rekord.ModelCollection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.ModelCollection#first"><a href="Rekord.ModelCollection.html#first">first</a></li>
            
                <li data-name="Rekord.ModelCollection#firstWhere"><a href="Rekord.ModelCollection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#get"><a href="Rekord.ModelCollection.html#get">get</a></li>
            
                <li data-name="Rekord.ModelCollection#group"><a href="Rekord.ModelCollection.html#group">group</a></li>
            
                <li data-name="Rekord.ModelCollection#has"><a href="Rekord.ModelCollection.html#has">has</a></li>
            
                <li data-name="Rekord.ModelCollection#indexOf"><a href="Rekord.ModelCollection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.ModelCollection#init"><a href="Rekord.ModelCollection.html#init">init</a></li>
            
                <li data-name="Rekord.ModelCollection#insertAt"><a href="Rekord.ModelCollection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.ModelCollection#intersect"><a href="Rekord.ModelCollection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.ModelCollection#isSorted"><a href="Rekord.ModelCollection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.ModelCollection#keys"><a href="Rekord.ModelCollection.html#keys">keys</a></li>
            
                <li data-name="Rekord.ModelCollection#last"><a href="Rekord.ModelCollection.html#last">last</a></li>
            
                <li data-name="Rekord.ModelCollection#lastWhere"><a href="Rekord.ModelCollection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#max"><a href="Rekord.ModelCollection.html#max">max</a></li>
            
                <li data-name="Rekord.ModelCollection#maxModel"><a href="Rekord.ModelCollection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.ModelCollection#min"><a href="Rekord.ModelCollection.html#min">min</a></li>
            
                <li data-name="Rekord.ModelCollection#minModel"><a href="Rekord.ModelCollection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.ModelCollection#page"><a href="Rekord.ModelCollection.html#page">page</a></li>
            
                <li data-name="Rekord.ModelCollection#parseModel"><a href="Rekord.ModelCollection.html#parseModel">parseModel</a></li>
            
                <li data-name="Rekord.ModelCollection#pluck"><a href="Rekord.ModelCollection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.ModelCollection#pop"><a href="Rekord.ModelCollection.html#pop">pop</a></li>
            
                <li data-name="Rekord.ModelCollection#push"><a href="Rekord.ModelCollection.html#push">push</a></li>
            
                <li data-name="Rekord.ModelCollection#put"><a href="Rekord.ModelCollection.html#put">put</a></li>
            
                <li data-name="Rekord.ModelCollection#random"><a href="Rekord.ModelCollection.html#random">random</a></li>
            
                <li data-name="Rekord.ModelCollection#rebuild"><a href="Rekord.ModelCollection.html#rebuild">rebuild</a></li>
            
                <li data-name="Rekord.ModelCollection#reduce"><a href="Rekord.ModelCollection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.ModelCollection#remove"><a href="Rekord.ModelCollection.html#remove">remove</a></li>
            
                <li data-name="Rekord.ModelCollection#removeAll"><a href="Rekord.ModelCollection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.ModelCollection#removeAt"><a href="Rekord.ModelCollection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.ModelCollection#removeWhere"><a href="Rekord.ModelCollection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#reset"><a href="Rekord.ModelCollection.html#reset">reset</a></li>
            
                <li data-name="Rekord.ModelCollection#reverse"><a href="Rekord.ModelCollection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.ModelCollection#setComparator"><a href="Rekord.ModelCollection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.ModelCollection#shift"><a href="Rekord.ModelCollection.html#shift">shift</a></li>
            
                <li data-name="Rekord.ModelCollection#sort"><a href="Rekord.ModelCollection.html#sort">sort</a></li>
            
                <li data-name="Rekord.ModelCollection#splice"><a href="Rekord.ModelCollection.html#splice">splice</a></li>
            
                <li data-name="Rekord.ModelCollection#subtract"><a href="Rekord.ModelCollection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.ModelCollection#sum"><a href="Rekord.ModelCollection.html#sum">sum</a></li>
            
                <li data-name="Rekord.ModelCollection#toArray"><a href="Rekord.ModelCollection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.ModelCollection#unshift"><a href="Rekord.ModelCollection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.ModelCollection#update"><a href="Rekord.ModelCollection.html#update">update</a></li>
            
                <li data-name="Rekord.ModelCollection#updateWhere"><a href="Rekord.ModelCollection.html#updateWhere">updateWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#where"><a href="Rekord.ModelCollection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.ModelCollection#event:add"><a href="Rekord.ModelCollection.html#event:add">add</a></li>
            
                <li data-name="Rekord.ModelCollection#event:adds"><a href="Rekord.ModelCollection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.ModelCollection#event:changes"><a href="Rekord.ModelCollection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.ModelCollection#event:cleared"><a href="Rekord.ModelCollection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.ModelCollection#event:remove"><a href="Rekord.ModelCollection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.ModelCollection#event:removes"><a href="Rekord.ModelCollection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.ModelCollection#event:reset"><a href="Rekord.ModelCollection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.ModelCollection#event:sort"><a href="Rekord.ModelCollection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.ModelCollection#event:updates"><a href="Rekord.ModelCollection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.RelationCollection">
            <span class="title">
                <a href="Rekord.RelationCollection.html">Rekord.RelationCollection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.RelationCollection#comparator"><a href="Rekord.RelationCollection.html#comparator">comparator</a></li>
            
                <li data-name="Rekord.RelationCollection#database"><a href="Rekord.RelationCollection.html#database">database</a></li>
            
                <li data-name="Rekord.RelationCollection#map"><a href="Rekord.RelationCollection.html#map">map</a></li>
            
                <li data-name="Rekord.RelationCollection#model"><a href="Rekord.RelationCollection.html#model">model</a></li>
            
                <li data-name="Rekord.RelationCollection#relator"><a href="Rekord.RelationCollection.html#relator">relator</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.RelationCollection#add"><a href="Rekord.RelationCollection.html#add">add</a></li>
            
                <li data-name="Rekord.RelationCollection#addAll"><a href="Rekord.RelationCollection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.RelationCollection#addComparator"><a href="Rekord.RelationCollection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.RelationCollection#aggregate"><a href="Rekord.RelationCollection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.RelationCollection#avg"><a href="Rekord.RelationCollection.html#avg">avg</a></li>
            
                <li data-name="Rekord.RelationCollection#buildKeyFromInput"><a href="Rekord.RelationCollection.html#buildKeyFromInput">buildKeyFromInput</a></li>
            
                <li data-name="Rekord.RelationCollection#change"><a href="Rekord.RelationCollection.html#change">change</a></li>
            
                <li data-name="Rekord.RelationCollection#chunk"><a href="Rekord.RelationCollection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.RelationCollection#clear"><a href="Rekord.RelationCollection.html#clear">clear</a></li>
            
                <li data-name="Rekord.RelationCollection#clone"><a href="Rekord.RelationCollection.html#clone">clone</a></li>
            
                <li data-name="Rekord.RelationCollection#cloneEmpty"><a href="Rekord.RelationCollection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.RelationCollection#complement"><a href="Rekord.RelationCollection.html#complement">complement</a></li>
            
                <li data-name="Rekord.RelationCollection#contains"><a href="Rekord.RelationCollection.html#contains">contains</a></li>
            
                <li data-name="Rekord.RelationCollection#count"><a href="Rekord.RelationCollection.html#count">count</a></li>
            
                <li data-name="Rekord.RelationCollection#countWhere"><a href="Rekord.RelationCollection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#each"><a href="Rekord.RelationCollection.html#each">each</a></li>
            
                <li data-name="Rekord.RelationCollection#filtered"><a href="Rekord.RelationCollection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.RelationCollection#first"><a href="Rekord.RelationCollection.html#first">first</a></li>
            
                <li data-name="Rekord.RelationCollection#firstWhere"><a href="Rekord.RelationCollection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#get"><a href="Rekord.RelationCollection.html#get">get</a></li>
            
                <li data-name="Rekord.RelationCollection#group"><a href="Rekord.RelationCollection.html#group">group</a></li>
            
                <li data-name="Rekord.RelationCollection#has"><a href="Rekord.RelationCollection.html#has">has</a></li>
            
                <li data-name="Rekord.RelationCollection#indexOf"><a href="Rekord.RelationCollection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.RelationCollection#init"><a href="Rekord.RelationCollection.html#init">init</a></li>
            
                <li data-name="Rekord.RelationCollection#insertAt"><a href="Rekord.RelationCollection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.RelationCollection#intersect"><a href="Rekord.RelationCollection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.RelationCollection#isRelated"><a href="Rekord.RelationCollection.html#isRelated">isRelated</a></li>
            
                <li data-name="Rekord.RelationCollection#isSorted"><a href="Rekord.RelationCollection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.RelationCollection#keys"><a href="Rekord.RelationCollection.html#keys">keys</a></li>
            
                <li data-name="Rekord.RelationCollection#last"><a href="Rekord.RelationCollection.html#last">last</a></li>
            
                <li data-name="Rekord.RelationCollection#lastWhere"><a href="Rekord.RelationCollection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#max"><a href="Rekord.RelationCollection.html#max">max</a></li>
            
                <li data-name="Rekord.RelationCollection#maxModel"><a href="Rekord.RelationCollection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.RelationCollection#min"><a href="Rekord.RelationCollection.html#min">min</a></li>
            
                <li data-name="Rekord.RelationCollection#minModel"><a href="Rekord.RelationCollection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.RelationCollection#page"><a href="Rekord.RelationCollection.html#page">page</a></li>
            
                <li data-name="Rekord.RelationCollection#parseModel"><a href="Rekord.RelationCollection.html#parseModel">parseModel</a></li>
            
                <li data-name="Rekord.RelationCollection#pluck"><a href="Rekord.RelationCollection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.RelationCollection#pop"><a href="Rekord.RelationCollection.html#pop">pop</a></li>
            
                <li data-name="Rekord.RelationCollection#push"><a href="Rekord.RelationCollection.html#push">push</a></li>
            
                <li data-name="Rekord.RelationCollection#put"><a href="Rekord.RelationCollection.html#put">put</a></li>
            
                <li data-name="Rekord.RelationCollection#random"><a href="Rekord.RelationCollection.html#random">random</a></li>
            
                <li data-name="Rekord.RelationCollection#rebuild"><a href="Rekord.RelationCollection.html#rebuild">rebuild</a></li>
            
                <li data-name="Rekord.RelationCollection#reduce"><a href="Rekord.RelationCollection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.RelationCollection#relate"><a href="Rekord.RelationCollection.html#relate">relate</a></li>
            
                <li data-name="Rekord.RelationCollection#remove"><a href="Rekord.RelationCollection.html#remove">remove</a></li>
            
                <li data-name="Rekord.RelationCollection#removeAll"><a href="Rekord.RelationCollection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.RelationCollection#removeAt"><a href="Rekord.RelationCollection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.RelationCollection#removeWhere"><a href="Rekord.RelationCollection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#reset"><a href="Rekord.RelationCollection.html#reset">reset</a></li>
            
                <li data-name="Rekord.RelationCollection#reverse"><a href="Rekord.RelationCollection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.RelationCollection#set"><a href="Rekord.RelationCollection.html#set">set</a></li>
            
                <li data-name="Rekord.RelationCollection#setComparator"><a href="Rekord.RelationCollection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.RelationCollection#shift"><a href="Rekord.RelationCollection.html#shift">shift</a></li>
            
                <li data-name="Rekord.RelationCollection#sort"><a href="Rekord.RelationCollection.html#sort">sort</a></li>
            
                <li data-name="Rekord.RelationCollection#splice"><a href="Rekord.RelationCollection.html#splice">splice</a></li>
            
                <li data-name="Rekord.RelationCollection#subtract"><a href="Rekord.RelationCollection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.RelationCollection#sum"><a href="Rekord.RelationCollection.html#sum">sum</a></li>
            
                <li data-name="Rekord.RelationCollection#toArray"><a href="Rekord.RelationCollection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.RelationCollection#unrelate"><a href="Rekord.RelationCollection.html#unrelate">unrelate</a></li>
            
                <li data-name="Rekord.RelationCollection#unshift"><a href="Rekord.RelationCollection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.RelationCollection#update"><a href="Rekord.RelationCollection.html#update">update</a></li>
            
                <li data-name="Rekord.RelationCollection#updateWhere"><a href="Rekord.RelationCollection.html#updateWhere">updateWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#where"><a href="Rekord.RelationCollection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.RelationCollection#event:add"><a href="Rekord.RelationCollection.html#event:add">add</a></li>
            
                <li data-name="Rekord.RelationCollection#event:adds"><a href="Rekord.RelationCollection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.RelationCollection#event:changes"><a href="Rekord.RelationCollection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.RelationCollection#event:cleared"><a href="Rekord.RelationCollection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.RelationCollection#event:remove"><a href="Rekord.RelationCollection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.RelationCollection#event:removes"><a href="Rekord.RelationCollection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.RelationCollection#event:reset"><a href="Rekord.RelationCollection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.RelationCollection#event:sort"><a href="Rekord.RelationCollection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.RelationCollection#event:updates"><a href="Rekord.RelationCollection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="functions.js.html">Source: functions.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * A function which takes a value (typically an object) and returns a true or
 * false value.
 *
 * @callback whereCallback
 * @param {Any} value -
 *    The value to test.
 * @return {Boolean} -
 *    Whether or not the value passed the test.
 * @see Rekord.createWhere
 * @see Rekord.saveWhere
 */

/**
 * A function for comparing two values and determine whether they're considered
 * equal.
 *
 * @callback equalityCallback
 * @param {Any} a -
 *    The first value to test.
 * @param {Any} b -
 *    The second value to test.
 * @return {Boolean} -
 *    Whether or not the two values are considered equivalent.
 * @see Rekord.equals
 * @see Rekord.equalsStrict
 * @see Rekord.equalsCompare
 */

/**
 * A function for comparing two values to determine if one is greater or lesser
 * than the other or if they're equal.
 *
 * ```javascript
 * comparisonCallback( a, b ) &lt; 0 // a &lt; b
 * comparisonCallback( a, b ) > 0 // a > b
 * comparisonCallback( a, b ) == 0 // a == b
 * ```
 *
 * @callback comparisonCallback
 * @param {Any} a -
 *    The first value to test.
 * @param {Any} b -
 *    The second value to test.
 * @return {Number} -
 *    0 if the two values are considered equal, a negative value if `a` is
 *    considered less than `b`, and a positive value if `a` is considered
 *    greater than `b`.
 * @see Rekord.compare
 * @see Rekord.compareNumbers
 */

/**
 * A function for resolving a value from a given value. Typically used to
 * transform an object into one of it's properties.
 *
 * @callback propertyResolverCallback
 * @param {Any} model -
 *    The model to use to resolve a value.
 * @return {Any} -
 *    The resolved value.
 * @see Rekord.createPropertyResolver
 */

 /**
  * A string, a function, or an array of mixed values.
  *
  * ```javascript
  * 'age'                   // age property of an object
  * '-age'                  // age property of an object, ordering reversed
  * function(a, b) {}       // a function which compares two values
  * ['age', 'done']         // age property of an object, and when equal, the done value
  * 'creator.name'          // name sub-property of creator property
  * '{creator.name}, {age}' // formatted string
  * ```
  *
  * @typedef {String|comparisonCallback|Array} comparatorInput
  */

/**
 * An expression which resolves a value from another value.
 *
 * ```javascript
 * // {age: 6, name: 'x', user: {first: 'tom'}}
 * 'age'                    // age property of an object
 * 'user.first'             // sub property
 * '{age}, {user.first}'    // a formatted string built from object values
 * function(a) {}           // a function which returns a value itself
 * ['age', 'name']          // multiple properties joined with a delimiter
 * {age:null, user:'first'} // multiple properties joined with a delimiter including a sub property
 * ```
 *
 * @typedef {String|Function|Array|Object} propertyResolverInput
 */

/**
 * An expression which can be used to generate a function for testing a value
 * and returning a boolean result. The following types can be given and will
 * result in the following tests:
 *
 * - `String`: If a string &amp; value are given - the generated function will test
 *    if the object has a property with the given value. If a string is given
 *    and no value is given - the generated function will test if the object
 *    has the property and a non-null value.
 * - `Object`: If an object is given - the generated function will test all
 *    properties of the given object and return true only if the object being
 *    tested has the same values.
 * - `Array`: If an array is given - each element in the array is passed as
 *    arguments to generate a new function. The returned function will only
 *    return true if all generated functions return true - otherwise false.
 * - `whereCallback`: A function can be given which is immediately returned as
 *    the test function.
 *
 * @typedef {String|Object|Array|whereCallback} whereInput
 */

 var AP = Array.prototype;

/**
 * Determines whether the given variable is defined.
 *
 * ```javascript
 * Rekord.isDefined(); // false
 * Rekord.isDefined(0); // true
 * Rekord.isDefined(true); // true
 * Rekord.isDefined(void 0); // false
 * Rekord.isDefined(undefined); // false
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is defined, otherwise false.
 */
function isDefined(x)
{
  return x !== undefined;
}

/**
 * Determines whether the given variable is a function.
 *
 * ```javascript
 * Rekord.isFunction(); // false
 * Rekord.isFunction(parseInt); // true
 * Rekord.isFunction(2); // false
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is a function, otherwise false.
 */
function isFunction(x)
{
  return !!(x &amp;&amp; x.constructor &amp;&amp; x.call &amp;&amp; x.apply);
}

/**
 * Determines whether the given variable is a Rekord object. A Rekord object is a
 * constructor for a model and also has a Database variable. A Rekord object is
 * strictly created by the Rekord function.
 *
 * ```javascript
 * var Task = Rekord({
 *   name: 'task',
 *   fields: ['name', 'done', 'finished_at', 'created_at', 'assigned_to']
 * });
 * Rekord.isRekord( Task ); // true
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is a Rekord object, otherwise false.
 */
function isRekord(x)
{
  return !!(x &amp;&amp; x.Database &amp;&amp; isFunction( x ) &amp;&amp; x.prototype instanceof Model);
}

/**
 * Determines whether the given variable is a string.
 *
 * ```javascript
 * Rekord.isString(); // false
 * Rekord.isString('x'): // true
 * Rekord.isString(1); // false
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is a string, otherwise false.
 */
function isString(x)
{
  return typeof x === 'string';
}

/**
 * Determines whether the given variable is a valid number. NaN and Infinity are
 * not valid numbers.
 *
 * ```javascript
 * Rekord.isNumber(); // false
 * Rekord.isNumber('x'): // false
 * Rekord.isNumber(1); // true
 * Rekord.isNumber(NaN); // false
 * Rekord.isNumber(Infinity); // true
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is a valid number, otherwise false.
 */
function isNumber(x)
{
  return typeof x === 'number' &amp;&amp; !isNaN(x);
}

/**
 * Determines whether the given variable is a boolean value.
 *
 * ```javascript
 * Rekord.isBoolean(); // false
 * Rekord.isBoolean('x'): // false
 * Rekord.isBoolean(1); // false
 * Rekord.isBoolean(true); // true
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is a boolean value, otherwise false.
 */
function isBoolean(x)
{
  return typeof x === 'boolean';
}

/**
 * Determines whether the given variable is an instance of Date.
 *
 * ```javascript
 * Rekord.isDate(); // false
 * Rekord.isDate('x'): // false
 * Rekord.isDate(1); // false
 * Rekord.isDate(true); // false
 * Rekord.isDate(new Date()); // true
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is an instance of Date, otherwise false.
 */
function isDate(x)
{
  return x instanceof Date;
}

/**
 * Determines whether the given variable is an instance of RegExp.
 *
 * ```javascript
 * Rekord.isRegExp(); // false
 * Rekord.isRegExp('x'): // false
 * Rekord.isRegExp(1); // false
 * Rekord.isRegExp(true); // false
 * Rekord.isRegExp(/[xyz]/); // true
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is an instance of RegExp, otherwise false.
 */
function isRegExp(x)
{
  return x instanceof RegExp;
}

/**
 * Determines whether the given variable is an instance of Array.
 *
 * ```javascript
 * Rekord.isArray(); // false
 * Rekord.isArray('x'): // false
 * Rekord.isArray(1); // false
 * Rekord.isArray([]); // true
 * Rekord.isArray(Rekord.collect(1, 2, 3)); // true
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is an instance of Array, otherwise false.
 */
function isArray(x)
{
  return x instanceof Array;
}

/**
 * Determines whether the given variable is a non-null object. As a note,
 * Arrays are considered objects.
 *
 * ```javascript
 * Rekord.isObject(); // false
 * Rekord.isObject('x'): // false
 * Rekord.isObject(1); // false
 * Rekord.isObject([]); // true
 * Rekord.isObject({}); // true
 * Rekord.isObject(null); // false
 * ```
 *
 * @memberof Rekord
 * @param {Any} x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is a non-null object, otherwise false.
 */
function isObject(x)
{
  return x !== null &amp;&amp; typeof x === 'object';
}

/**
 * Converts the given variable to an array of strings. If the variable is a
 * string it is split based on the delimiter given. If the variable is an
 * array then it is returned. If the variable is any other type it may result
 * in an error.
 *
 * ```javascript
 * Rekord.toArray([1, 2, 3]); // [1, 2, 3]
 * Rekord.toArray('1,2,3', ','); // ['1', '2', '3']
 * ```
 *
 * @memberof Rekord
 * @param {String|String[]} x
 *    The variable to convert to an Array.
 * @param {String} [delimiter]
 *    The delimiter to split if the given variable is a string.
 * @return {String[]} -
 *    The array of strings created.
 */
function toArray(x, delimiter)
{
  return x instanceof Array ? x : x.split( delimiter );
}

/**
 * Determines whether the given variable is not null and is not undefined.
 *
 * ```javascript
 * Rekord.isValue(); // false
 * Rekord.isValue('x'): // true
 * Rekord.isValue(1); // true
 * Rekord.isValue([]); // true
 * Rekord.isValue({}); // true
 * Rekord.isValue(null); // false
 * Rekord.isValue(void 0); // false
 * Rekord.isValue(undefined); // false
 * ```
 *
 * @memberof Rekord
 * @param {Any}  x
 *    The variable to test.
 * @return {Boolean} -
 *    True if the variable is non-null and not undefined.
 */
function isValue(x)
{
  return !!(x !== undefined &amp;&amp; x !== null);
}

/**
 * Finds the index of a variable in an array optionally using a custom
 * comparison function. If the variable is not found in the array then `false`
 * is returned.
 *
 * ```javascript
 * Rekord.indexOf([1, 2, 3], 1); // 0
 * Rekord.indexOf([1, 2, 3], 4); // false
 * Rekord.indexOf([1, 2, 2], 2); // 1
 * ```
 *
 *
 * @memberof Rekord
 * @param {Array} arr
 *    The array to search through.
 * @param {Any} x
 *    The variable to search for.
 * @param {Function} [comparator]
 *    The function to use which compares two values and returns a truthy
 *    value if they are considered equivalent. If a comparator is not given
 *    then strict comparison is used to determine equivalence.
 * @return {Number|Boolean} -
 *    The index in the array the variable exists at, otherwise false if
 *    the variable wasn't found in the array.
 */
function indexOf(arr, x, comparator)
{
  var cmp = comparator || equalsStrict;

  for (var i = 0, n = arr.length; i &lt; n; i++)
  {
    if ( cmp( arr[i], x ) )
    {
      return i;
    }
  }

  return false;
}

/**
 * A function that doesn't perform any operations.
 *
 * @memberof Rekord
 */
function noop()
{

}

/**
 * Returns the given function with the given context (`this`). This also has the
 * benefits of returning a "copy" of the function which makes it ideal for use
 * in listening on/once events and off events.
 *
 * ```javascript
 * var context = {};
 * var func = Rekord.bind( context, function(x) {
 *   this.y = x * 2;
 * });
 * func( 4 );
 * context.y; // 8
 * ```
 *
 * @memberof Rekord
 * @param {Object} context
 *    The value of `this` for the given function.
 * @param {Function}
 *    The function to invoke with the given context.
 * @return {Function} -
 *    A new function which is a copy of the given function with a new context.
 */
function bind(context, func)
{
  return function bindedFunction()
  {
    func.apply( context, arguments );
  };
}

/**
 * Generates a UUID using the random number method.
 *
 * @memberof Rekord
 * @return {String} -
 *    The generated UUID.
 */
function uuid()
{
  return (S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());
}

function S4()
{
  return (((1+Math.random())*0x10000)|0).toString(16).substring(1);
}

/**
 * Determines whether the properties on one object equals the properties on
 * another object.
 *
 * @memberof Rekord
 * @param {Object} test -
 *    The object to test for matching.
 * @param {String|String[]} testFields -
 *    The property name or array of properties to test for equality on `test`.
 * @param {Object} expected -
 *    The object with the expected values.
 * @param {String|String[]} expectedFields -
 *    The property name or array of properties to test for equality on `expected`.
 * @param {equalityCallback} [equals] -
 *    The equality function which compares two values and returns whether they
 *    are considered equivalent.
 * @return {Boolean} -
 *    True if the `testFields` properties on `test` are equivalent to the
 *    `expectedFields` on `expected` according to the `equals` function.
 */
function propsMatch(test, testFields, expected, expectedFields, equals)
{
  var equality = equals || Rekord.equals;

  if ( isString( testFields ) ) // &amp;&amp; isString( expectedFields )
  {
    return equality( test[ testFields ], expected[ expectedFields ] );
  }
  else // if ( isArray( testFields ) &amp;&amp; isArray( expectedFields ) )
  {
    for (var i = 0; i &lt; testFields.length; i++)
    {
      var testProp = testFields[ i ];
      var expectedProp = expectedFields[ i ];

      if ( !equality( test[ testProp ], expected[ expectedProp ] ) )
      {
        return false;
      }
    }

    return true;
  }

  return false;
}

// Determines whether the given model has the given fields
function hasFields(model, fields, exists)
{
  if ( isArray( fields ) )
  {
    for (var i = 0; i &lt; fields.length; i++)
    {
      if ( !exists( model[ fields[ i ] ] ) )
      {
        return false;
      }
    }

    return true;
  }
  else // isString( fields )
  {
    return exists( model[ fields ] );
  }
}

// Copies a constructor function returning a function that can be called to
// return an instance and doesn't invoke the original constructor.
function copyConstructor(func)
{
  function F() {};
  F.prototype = func.prototype;
  return F;
}

function extend(parent, child, override)
{
  // Avoid calling the parent constructor
  parent = copyConstructor( parent );
  // Child instances are instanceof parent
  child.prototype = new parent()
  // Copy new methods into child prototype
  transfer( override, child.prototype )
  // Set the correct constructor
  child.prototype.constructor = child;
}

// Creates a factory for instantiating
function factory(constructor)
{
  function F(args)
  {
    return constructor.apply( this, args );
  }

  F.prototype = constructor.prototype;

  return function()
  {
    return new F( arguments );
  };
}

function extendArray(parent, child, override)
{
  // If direct extension of array is supported...
  if ( extendArraySupported() )
  {
    extend( parent, child, override );
    child.create = factory( child );
  }
  // Otherwise copy all of the methods
  else
  {
    // Avoid calling the parent constructor
    parent = copyConstructor( parent );

    // TODO fix for IE8
    child.create = function()
    {
      var created = new parent();
      child.apply( created, arguments );
      transfer( override, created );
      return created;
    };
  }
}

// Is directly extending an array supported?
function extendArraySupported()
{
  if ( extendArraySupported.supported === undefined )
  {
    function EA() {};
    EA.prototype = [];
    var eq = new EA();
    eq.push(0);
    extendArraySupported.supported = (eq.length === 1);
  }

  return extendArraySupported.supported;
}

function transfer(from, to)
{
  for (var prop in from)
  {
    to[ prop ] = from[ prop ];
  }

  return to;
}

function swap(a, i, k)
{
  var t = a[ i ];
  a[ i ] = a[ k ];
  a[ k ] = t;
}

function applyOptions( target, options, defaults, secret )
{
  options = options || {};

  for (var prop in defaults)
  {
    var defaultValue = defaults[ prop ];
    var option = options[ prop ];
    var valued = isValue( option );

    if ( !valued &amp;&amp; defaultValue === undefined )
    {
      throw ( prop + ' is a required option' );
    }
    else if ( valued )
    {
      target[ prop ] = option;
    }
    else
    {
      target[ prop ] = copy( defaultValue );
    }
  }

  for (var prop in options)
  {
    if ( !(prop in defaults) )
    {
      target[ prop ] = options[ prop ];
    }
  }

  if ( secret )
  {
    target.$options = options;
  }
  else
  {
    target.options = options;
  }
}

function camelCaseReplacer(match)
{
  return match.length === 1 ? match.toUpperCase() : match.charAt(1).toUpperCase();
}

function toCamelCase(name)
{
  return name.replace( toCamelCase.REGEX, camelCaseReplacer );
}

toCamelCase.REGEX = /(^.|_.)/g;

/**
 * Returns an instance of {@link Rekord.Collection} with the initial values
 * passed as arguments to this function.
 *
 * ```javascript
 * Rekord.collect(1, 2, 3, 4);
 * Rekord.collect([1, 2, 3, 4]); // same as above
 * Rekord.collect();
 * Rekord.collect([]); // same as above
 * ```
 *
 * @memberof Rekord
 * @param {Any[]|...Any} a
 *    The initial values in the collection. You can pass an array of values
 *    or any number of arguments.
 * @return {Rekord.Collection} -
 *    A newly created instance containing the given values.
 */
function collect(a)
{
  var values = arguments.length > 1 || !isArray(a) ? Array.prototype.slice.call( arguments ) : a;

  return new Collection( values );
}

function evaluate(x)
{
  if ( !isValue( x ) )
  {
    return x;
  }

  if ( isRekord( x ) )
  {
    return new x();
  }
  if ( isFunction( x ) )
  {
    return x();
  }

  return copy( x );
}

function grab(obj, props, copyValues)
{
  var grabbed = {};

  for (var i = 0; i &lt; props.length; i++)
  {
    var p = props[ i ];

    if ( p in obj )
    {
      grabbed[ p ] = copyValues ? copy( obj[ p ] ) : obj[ p ];
    }
  }

  return grabbed;
}

function pull(obj, props, copyValues)
{
  if ( isString( props ) )
  {
    var pulledValue = obj[ props ];

    return copyValues ? copy( pulledValue ) : pulledValue;
  }
  else // isArray( props )
  {
    var pulled = [];

    for (var i = 0; i &lt; props.length; i++)
    {
      var p = props[ i ];
      var pulledValue = obj[ p ];

      pulled.push( copyValues ? copy( pulledValue ) : pulledValue );
    }

    return pulled;
  }
}

function collapse()
{
  var target = {};

  for (var i = 0; i &lt; arguments.length; i++)
  {
    var a = arguments[ i ];

    if ( isObject( a ) )
    {
      for (var prop in a)
      {
        if ( !(prop in target) )
        {
          target[ prop ] = a[ prop ];
        }
      }
    }
  }

  return target;
}

function clean(x)
{
  for (var prop in x)
  {
    if ( prop.charAt(0) === '$' )
    {
      delete x[ prop ];
    }
  }

  return x;
}

function cleanFunctions(x)
{
  for (var prop in x)
  {
    if ( isFunction( x[prop] ) )
    {
      delete x[ prop ];
    }
  }

  return x;
}

function copy(x, copyHidden)
{
  if (x === null || x === undefined || typeof x !== 'object' || isFunction(x) || isRegExp(x))
  {
    return x;
  }

  if (isArray(x))
  {
    var c = [];

    for (var i = 0; i &lt; x.length; i++)
    {
      c.push( copy(x[i], copyHidden) );
    }

    return c;
  }

  if (isDate(x))
  {
    return new Date( x.getTime() );
  }

  var c = {};

  for (var prop in x)
  {
    if (copyHidden || prop.charAt(0) !== '$')
    {
      c[ prop ] = copy( x[prop], copyHidden );
    }
  }

  return c;
}

function diff(curr, old, props, comparator)
{
  var d = {};

  for (var i = 0; i &lt; props.length; i++)
  {
    var p = props[ i ];

    if (!comparator( curr[ p ], old[ p ] ) )
    {
      d[ p ] = copy( curr[ p ] );
    }
  }

  return d;
}

function sizeof(x)
{
  if ( isArray(x) || isString(x) )
  {
    return x.length;
  }
  else if ( isObject(x) )
  {
    var properties = 0;

    for (var prop in x)
    {
      properties++;
    }

    return properties;
  }

  return 0;
}

function isEmpty(x)
{
  if (x === null || x === void 0 || x === 0)
  {
    return true;
  }
  if (isArray(x) || isString(x))
  {
    return x.length === 0;
  }
  if (isDate(x))
  {
    return x.getTime() === 0 || isNaN( x.getTime() );
  }
  if (isObject(x))
  {
    for (var prop in x)
    {
      return false;
    }
    return true;
  }

  return false;
}

function equalsStrict(a, b)
{
  return a === b;
}

function equalsCompare(a, b)
{
  return compare( a, b ) === 0;
}

function equals(a, b)
{
  if (a === b) return true;
  if (a === null || b === null) return false;
  if (a !== a &amp;&amp; b !== b) return true; // NaN === NaN

  var at = typeof a;
  var bt = typeof b;
  if (at !== bt) return false;

  var aa = isArray(a);
  var ba = isArray(b);
  if (aa !== ba) return false;

  if (aa) {
    if (a.length !== b.length) return false;
    for (var i = 0; i &lt; a.length; i++) {
      if (!equals(a[i], b[i])) {
        return false;
      }
    }
    return true;
  }

  if (isDate(a)) {
    return isDate(b) &amp;&amp; equals( a.getTime(), b.getTime() );
  }
  if (isRegExp(a)) {
    return isRegExp(b) &amp;&amp; a.toString() === b.toString();
  }

  if (at === 'object') {
    for (var p in a) {
      if (p.charAt(0) !== '$' &amp;&amp; !isFunction(a[p])) {
        if (!(p in b) || !equals(a[p], b[p])) {
          return false;
        }
      }
    }
    for (var p in b) {
      if (p.charAt(0) !== '$' &amp;&amp; !isFunction(b[p])) {
        if (!(p in a)) {
          return false;
        }
      }
    }
    return true;
  }

  return false;
}

function compareNumbers(a, b)
{
  return (a === b ? 0 : (a &lt; b ? -1 : 1));
}

function compare(a, b, nullsFirst)
{
  if (a == b)
  {
    return 0;
  }

  var av = isValue( a );
  var bv = isValue( b );

  if (av !== bv)
  {
    return (av &amp;&amp; !nullsFirst) || (bv &amp;&amp; nullsFirst) ? -1 : 1;
  }

  if (isDate(a))
  {
    a = a.getTime();
  }
  if (isDate(b))
  {
    b = b.getTime();
  }
  if (isNumber(a) &amp;&amp; isNumber(b))
  {
    return compareNumbers(a, b);
  }
  if (isArray(a) &amp;&amp; isArray(b))
  {
    return compareNumbers(a.length, b.length);
  }
  if (isBoolean(a) &amp;&amp; isBoolean(b))
  {
    return a ? -1 : 1;
  }

  return (a + '').localeCompare(b + '');
}

function isSorted(comparator, array)
{
  if ( !comparator )
  {
    return true;
  }

  for (var i = 0, n = array.length - 1; i &lt; n; i++)
  {
    if ( comparator( array[ i ], array[ i + 1 ] ) > 0 )
    {
      return false;
    }
  }

  return true;
}

Rekord.Comparators = {};

function saveComparator(name, comparator, nullsFirst)
{
  return Rekord.Comparators[ name ] = createComparator( comparator, nullsFirst );
}

function addComparator(second, comparator, nullsFirst)
{
  var first = createComparator( comparator, nullsFirst );

  if ( !isFunction( second ) )
  {
    return first;
  }

  return function compareCascading(a, b)
  {
    var d = first( a, b );

    return d !== 0 ? d : second( a, b );
  };
}

/**
 * Creates a function which compares two values.
 *
 * @memberof Rekord
 * @param {comparatorInput} comparator
 *    The input which creates a comparison function.
 * @param {Boolean} [nullsFirst=false] -
 *    True if null values should be sorted first.
 * @return {comparisonCallback}
 */
function createComparator(comparator, nullsFirst)
{
  if ( isFunction( comparator ) )
  {
    return comparator;
  }
  else if ( isString( comparator ) )
  {
    if ( comparator in Rekord.Comparators )
    {
      return Rekord.Comparators[ comparator ];
    }

    if ( comparator.charAt(0) === '-' )
    {
      var parsed = createComparator( comparator.substring( 1 ), !nullsFirst );

      return function compareObjectsReversed(a, b)
      {
        return -parsed( a, b );
      };
    }
    else if ( comparator.indexOf('{') !== -1 )
    {
      return function compareFormatted(a, b)
      {
        var af = format( comparator, a );
        var bf = format( comparator, b );

        return af.localeCompare( bf );
      };
    }
    else if ( comparator.indexOf('.') !== -1 )
    {
      return function compareExpression(a, b)
      {
        var ap = parse( comparator, a );
        var bp = parse( comparator, b );

        return compare( ap, bp, nullsFirst );
      };
    }
    else
    {
      return function compareObjects(a, b)
      {
        var av = isValue( a ) ? a[ comparator ] : a;
        var bv = isValue( b ) ? b[ comparator ] : b;

        return compare( av, bv, nullsFirst );
      };
    }
  }
  else if ( isArray( comparator ) )
  {
    var parsed = [];

    for (var i = 0; i &lt; comparator.length; i++)
    {
      parsed[ i ] = createComparator( comparator[ i ], nullsFirst );
    }

    return function compareObjectsCascade(a, b)
    {
      var d = 0;

      for (var i = 0; i &lt; parsed.length &amp;&amp; d === 0; i++)
      {
        d = parsed[ i ]( a, b );
      }

      return d;
    };
  }

  return null;
}

Rekord.NumberResolvers = {};

function saveNumberResolver(name, numbers)
{
  return Rekord.NumberResolvers[ name ] = createNumberResolver( numbers );
}

function createNumberResolver(numbers)
{
  var resolver = createPropertyResolver( numbers );

  if ( isString( numbers ) &amp;&amp; numbers in Rekord.NumberResolvers )
  {
    return Rekord.NumberResolvers[ numbers ];
  }

  return function resolveNumber(model)
  {
    return parseFloat( resolver( model ) );
  };
}

Rekord.PropertyResolvers = {};

function savePropertyResolver(name, properties, delim)
{
  return Rekord.PropertyResolvers[ name ] = createPropertyResolver( properties, delim );
}

/**
 * Creates a function which resolves a value from another value given an
 * expression. This is often used to get a property value of an object.
 *
 * ```javascript
 * // x = {age: 6, name: 'tom', user: {first: 'jack'}}
 * createPropertyResolver()( x )                          // x
 * createPropertyResolver( 'age' )( x )                   // 6
 * createPropertyResolver( 'user.first' )( x )            // 'jack'
 * createPropertyResolver( '{name} &amp; {user.first}')( x )  // 'tom &amp; jack'
 * createPropertyResolver( ['name', 'age'] )( x )         // 'tom,6'
 * createPropertyResolver( ['name', 'age'], ' is ' )( x ) // 'tom is 6'
 * createPropertyResolver( {age:null, user:'first'})( x ) // '6,jack'
 * ```
 *
 * @memberof Rekord
 * @param {propertyResolverInput} [properties] -
 *    The expression which converts one value into another.
 * @param {String} [delim=','] -
 *    A delimiter to use to join multiple properties into a string.
 * @return {propertyResolverCallback} -
 *    A function to take values and resolve new ones.
 */
function createPropertyResolver(properties, delim)
{
  if ( isFunction( properties ) )
  {
    return properties;
  }
  else if ( isString( properties ) )
  {
    if ( properties in Rekord.PropertyResolvers )
    {
      return Rekord.PropertyResolvers[ properties ];
    }

    if ( properties.indexOf('{') !== -1 )
    {
      return function resolveFormatted(model)
      {
        return format( properties, model );
      };
    }
    else if ( properties.indexOf('.') !== -1 )
    {
      return function resolveExpression(model)
      {
        return parse( properties, model );
      };
    }
    else
    {
      return function resolveProperty(model)
      {
        return model[ properties ];
      };
    }
  }
  else if ( isArray( properties ) )
  {
    return function resolveProperties(model)
    {
      return pull( model, properties ).join( delim );
    };
  }
  else if ( isObject( properties ) )
  {
    var propsArray = [];
    var propsResolver = [];

    for (var prop in properties)
    {
      propsArray.push( prop );
      propsResolver.push( createPropertyResolver( properties[ prop ], delim ) );
    }

    return function resolvePropertyObject(model)
    {
      var pulled = [];

      for (var i = 0; i &lt; prop.length; i++)
      {
        pulled.push( propsResolver[ i ]( model[ propsArray[ i ] ] ) );
      }

      return pulled.join( delim );
    };
  }
  else
  {
    return function resolveNone(model)
    {
      return model;
    }
  }
}

/**
 * A map of saved {@link whereCallback} functions.
 *
 * @type {Object}
 */
Rekord.Wheres = {};

/**
 * Saves a function created with {@link Rekord.createWhere} to a cache of
 * filter functions which can be created more quickly in subsequent calls. It's
 * advised to make use of saved where's even in simpler scenarios for several
 * reasons:
 *
 * - You can name a comparison which is self documenting
 * - When refactoring, you only need to modify a single place in the code
 * - It's slightly more efficient (time &amp; memory) to cache filter functions
 *
 * ```javascript
 * Rekord.saveWhere('whereName', 'field', true);
 * Rekord.createWhere('whereName'); // returns the same function except quicker
 * ```
 *
 * @memberof Rekord
 * @param {String} name -
 *    The name of the filter function to save for later use.
 * @param {String|Object|Array|whereCallback} [properties] -
 *    See {@link Rekord.createWhere}
 * @param {Any} [value] -
 *    See {@link Rekord.createWhere}
 * @param {equalityCallback} [equals=Rekord.equalsStrict] -
 *    See {@link Rekord.createWhere}
 * @see Rekord.createWhere
 */
function saveWhere(name, properties, values, equals)
{
  return Rekord.Wheres[ name ] = createWhere( properties, values, equals );
}

/**
 * Creates a function which returns a true or false value given a test value.
 * This is also known as a filter function.
 *
 * ```javascript
 * Rekord.createWhere('field', true);  // when an object has property where field=true
 * Rekord.createWhere('field'); // when an object has the property named field
 * Rekord.createWhere(function(){}); // a function can be given which is immediately returned
 * Rekord.createWhere(['field', function(){}, ['field', true]]); // when an object meets all of the above criteria
 * Rekord.createWhere({foo: 1, bar: 2}); // when an object has foo=1 and bar=2
 * Rekord.createWhere('field', true, myEquals); // A custom comparison function can be given.
 * Rekord.createWhere(); // always returns true
 * ```
 *
 * @memberof Rekord
 * @param {whereInput} [properties] -
 *    The first expression used to generate a filter function.
 * @param {Any} [value] -
 *    When the first argument is a string this argument will be treated as a
 *    value to compare to the value of the named property on the object passed
 *    through the filter function.
 * @param {equalityCallback} [equals=Rekord.equalsStrict] -
 *    An alternative function can be used to compare to values.
 * @return {whereCallback} -
 *    A function which takes a value (typically an object) and returns a true
 *    or false value.
 * @see Rekord.saveWhere
 */
function createWhere(properties, value, equals)
{
  var equality = equals || equalsStrict;

  if ( isFunction( properties ) )
  {
    return properties;
  }
  else if ( isArray( properties ) )
  {
    var parsed = [];

    for (var i = 0; i &lt; properties.length; i++)
    {
      var where = properties[ i ];

      parsed.push( isArray( where ) ? createWhere.apply( this, where ) : createWhere( where ) );
    }

    return function whereMultiple(model)
    {
      for (var i = 0; i &lt; parsed.length; i++)
      {
        if ( !parsed[ i ]( model ) )
        {
          return false;
        }
      }

      return true;
    };
  }
  else if ( isObject( properties ) )
  {
    return function whereEqualsObject(model)
    {
      for (var prop in properties)
      {
        if ( !equality( model[ prop ], properties[ prop ] ) )
        {
          return false;
        }
      }

      return true;
    };
  }
  else if ( isString( properties ) )
  {
    if ( properties in Rekord.Wheres )
    {
      return Rekord.Wheres[ properties ];
    }

    var resolver = createPropertyResolver( properties );

    if ( isValue( value ) )
    {
      return function whereEqualsValue(model)
      {
        return equality( resolver( model ), value );
      };
    }
    else
    {
      return function whereHasValue(model)
      {
        return isValue( resolver( model ) );
      };
    }
  }
  else
  {
    return function whereAll(model)
    {
      return true;
    };
  }
}

Rekord.Havings = {};

function saveHaving(name, having)
{
  return Rekord.Havings[ name ] = createHaving( having );
}

function createHaving(having)
{
  if ( isFunction( having ) )
  {
    return having;
  }
  else if ( isString( having ) )
  {
    if ( having in Rekord.Havings )
    {
      return Rekord.Havings[ having ];
    }

    return function hasValue(model)
    {
      return isValue( model ) &amp;&amp; isValue( model[ having ] );
    };
  }
  else
  {
    return function hasAll()
    {
      return true;
    };
  }
}


function parse(expr, base)
{
  var valid = true;

  expr.replace( parse.REGEX, function(prop)
  {
    if (!valid)
    {
      return;
    }

    if ( isArray( base ) )
    {
      var i = parseInt(prop);

      if (!isNaN(i))
      {
        base = base[ i ];
      }
      else
      {
        valid = false;
      }
    }
    else if ( isObject( base ) )
    {
      if (prop in base)
      {
        var value = base[ prop ];
        base = isFunction(value) ? value() : value;
      }
      else
      {
        valid = false;
      }
    }
    else
    {
      valid = false;
    }
  });

  return valid ? base : void 0;
}

parse.REGEX = /([\w$]+)/g;

function format(template, base)
{
  return template.replace( format.REGEX, function(match)
  {
    return parse( match, base );
  });
}

format.REGEX = /\{[^\}]+\}/g;

function createFormatter(template)
{
  return function formatter(base)
  {
    return format( template, base );
  };
}
</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Apr 06 2016 00:32:16 GMT-0400 (EDT)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
