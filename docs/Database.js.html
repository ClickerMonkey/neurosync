<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: Database.js</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":true,"applicationName":"Rekord","linenums":true,"default":{"outputSourceFiles":true}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Rekord</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Rekord">
            <span class="title">
                <a href="Rekord.html">Rekord</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.fileProcessors"><a href="Rekord.html#.fileProcessors">fileProcessors</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.addEventful"><a href="Rekord.html#.addEventful">addEventful</a></li>
            
                <li data-name="Rekord.bind"><a href="Rekord.html#.bind">bind</a></li>
            
                <li data-name="Rekord.collect"><a href="Rekord.html#.collect">collect</a></li>
            
                <li data-name="Rekord.createComparator"><a href="Rekord.html#.createComparator">createComparator</a></li>
            
                <li data-name="Rekord.createPropertyResolver"><a href="Rekord.html#.createPropertyResolver">createPropertyResolver</a></li>
            
                <li data-name="Rekord.createWhere"><a href="Rekord.html#.createWhere">createWhere</a></li>
            
                <li data-name="Rekord.indexOf"><a href="Rekord.html#.indexOf">indexOf</a></li>
            
                <li data-name="Rekord.isArray"><a href="Rekord.html#.isArray">isArray</a></li>
            
                <li data-name="Rekord.isBoolean"><a href="Rekord.html#.isBoolean">isBoolean</a></li>
            
                <li data-name="Rekord.isDate"><a href="Rekord.html#.isDate">isDate</a></li>
            
                <li data-name="Rekord.isDefined"><a href="Rekord.html#.isDefined">isDefined</a></li>
            
                <li data-name="Rekord.isFunction"><a href="Rekord.html#.isFunction">isFunction</a></li>
            
                <li data-name="Rekord.isNumber"><a href="Rekord.html#.isNumber">isNumber</a></li>
            
                <li data-name="Rekord.isObject"><a href="Rekord.html#.isObject">isObject</a></li>
            
                <li data-name="Rekord.isRegExp"><a href="Rekord.html#.isRegExp">isRegExp</a></li>
            
                <li data-name="Rekord.isRekord"><a href="Rekord.html#.isRekord">isRekord</a></li>
            
                <li data-name="Rekord.isString"><a href="Rekord.html#.isString">isString</a></li>
            
                <li data-name="Rekord.isValue"><a href="Rekord.html#.isValue">isValue</a></li>
            
                <li data-name="Rekord.live"><a href="Rekord.html#.live">live</a></li>
            
                <li data-name="Rekord.noop"><a href="Rekord.html#.noop">noop</a></li>
            
                <li data-name="Rekord.propsMatch"><a href="Rekord.html#.propsMatch">propsMatch</a></li>
            
                <li data-name="Rekord.saveWhere"><a href="Rekord.html#.saveWhere">saveWhere</a></li>
            
                <li data-name="Rekord.setDebug"><a href="Rekord.html#.setDebug">setDebug</a></li>
            
                <li data-name="Rekord.setLive"><a href="Rekord.html#.setLive">setLive</a></li>
            
                <li data-name="Rekord.setRest"><a href="Rekord.html#.setRest">setRest</a></li>
            
                <li data-name="Rekord.setStore"><a href="Rekord.html#.setStore">setStore</a></li>
            
                <li data-name="Rekord.store"><a href="Rekord.html#.store">store</a></li>
            
                <li data-name="Rekord.toArray"><a href="Rekord.html#.toArray">toArray</a></li>
            
                <li data-name="Rekord.uuid"><a href="Rekord.html#.uuid">uuid</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Collection">
            <span class="title">
                <a href="Rekord.Collection.html">Rekord.Collection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.Collection.Events"><a href="Rekord.Collection.html#.Events">Events</a></li>
            
                <li data-name="Rekord.Collection#comparator"><a href="Rekord.Collection.html#comparator">comparator</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.Collection#add"><a href="Rekord.Collection.html#add">add</a></li>
            
                <li data-name="Rekord.Collection#addAll"><a href="Rekord.Collection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.Collection#addComparator"><a href="Rekord.Collection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.Collection#aggregate"><a href="Rekord.Collection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.Collection#avg"><a href="Rekord.Collection.html#avg">avg</a></li>
            
                <li data-name="Rekord.Collection#change"><a href="Rekord.Collection.html#change">change</a></li>
            
                <li data-name="Rekord.Collection#chunk"><a href="Rekord.Collection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.Collection#clear"><a href="Rekord.Collection.html#clear">clear</a></li>
            
                <li data-name="Rekord.Collection#clone"><a href="Rekord.Collection.html#clone">clone</a></li>
            
                <li data-name="Rekord.Collection#clone"><a href="Rekord.Collection.html#clone">clone</a></li>
            
                <li data-name="Rekord.Collection#cloneEmpty"><a href="Rekord.Collection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.Collection#cloneEmpty"><a href="Rekord.Collection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.Collection#complement"><a href="Rekord.Collection.html#complement">complement</a></li>
            
                <li data-name="Rekord.Collection#contains"><a href="Rekord.Collection.html#contains">contains</a></li>
            
                <li data-name="Rekord.Collection#count"><a href="Rekord.Collection.html#count">count</a></li>
            
                <li data-name="Rekord.Collection#countWhere"><a href="Rekord.Collection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.Collection#each"><a href="Rekord.Collection.html#each">each</a></li>
            
                <li data-name="Rekord.Collection#eachWhere"><a href="Rekord.Collection.html#eachWhere">eachWhere</a></li>
            
                <li data-name="Rekord.Collection#filtered"><a href="Rekord.Collection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.Collection#first"><a href="Rekord.Collection.html#first">first</a></li>
            
                <li data-name="Rekord.Collection#firstWhere"><a href="Rekord.Collection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.Collection#group"><a href="Rekord.Collection.html#group">group</a></li>
            
                <li data-name="Rekord.Collection#indexOf"><a href="Rekord.Collection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.Collection#insertAt"><a href="Rekord.Collection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.Collection#intersect"><a href="Rekord.Collection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.Collection#isSorted"><a href="Rekord.Collection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.Collection#last"><a href="Rekord.Collection.html#last">last</a></li>
            
                <li data-name="Rekord.Collection#lastWhere"><a href="Rekord.Collection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.Collection#max"><a href="Rekord.Collection.html#max">max</a></li>
            
                <li data-name="Rekord.Collection#maxModel"><a href="Rekord.Collection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.Collection#min"><a href="Rekord.Collection.html#min">min</a></li>
            
                <li data-name="Rekord.Collection#minModel"><a href="Rekord.Collection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.Collection#on"><a href="Rekord.Collection.html#on">on</a></li>
            
                <li data-name="Rekord.Collection#once"><a href="Rekord.Collection.html#once">once</a></li>
            
                <li data-name="Rekord.Collection#page"><a href="Rekord.Collection.html#page">page</a></li>
            
                <li data-name="Rekord.Collection#pluck"><a href="Rekord.Collection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.Collection#pop"><a href="Rekord.Collection.html#pop">pop</a></li>
            
                <li data-name="Rekord.Collection#push"><a href="Rekord.Collection.html#push">push</a></li>
            
                <li data-name="Rekord.Collection#random"><a href="Rekord.Collection.html#random">random</a></li>
            
                <li data-name="Rekord.Collection#reduce"><a href="Rekord.Collection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.Collection#remove"><a href="Rekord.Collection.html#remove">remove</a></li>
            
                <li data-name="Rekord.Collection#removeAll"><a href="Rekord.Collection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.Collection#removeAt"><a href="Rekord.Collection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.Collection#removeWhere"><a href="Rekord.Collection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.Collection#reset"><a href="Rekord.Collection.html#reset">reset</a></li>
            
                <li data-name="Rekord.Collection#reverse"><a href="Rekord.Collection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.Collection#setComparator"><a href="Rekord.Collection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.Collection#shift"><a href="Rekord.Collection.html#shift">shift</a></li>
            
                <li data-name="Rekord.Collection#sort"><a href="Rekord.Collection.html#sort">sort</a></li>
            
                <li data-name="Rekord.Collection#splice"><a href="Rekord.Collection.html#splice">splice</a></li>
            
                <li data-name="Rekord.Collection#subtract"><a href="Rekord.Collection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.Collection#sum"><a href="Rekord.Collection.html#sum">sum</a></li>
            
                <li data-name="Rekord.Collection#toArray"><a href="Rekord.Collection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.Collection#unshift"><a href="Rekord.Collection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.Collection#where"><a href="Rekord.Collection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.Collection#event:add"><a href="Rekord.Collection.html#event:add">add</a></li>
            
                <li data-name="Rekord.Collection#event:adds"><a href="Rekord.Collection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.Collection#event:changes"><a href="Rekord.Collection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.Collection#event:cleared"><a href="Rekord.Collection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.Collection#event:remove"><a href="Rekord.Collection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.Collection#event:removes"><a href="Rekord.Collection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.Collection#event:reset"><a href="Rekord.Collection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.Collection#event:sort"><a href="Rekord.Collection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.Collection#event:updates"><a href="Rekord.Collection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Database">
            <span class="title">
                <a href="Rekord.Database.html">Rekord.Database</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.Database#on"><a href="Rekord.Database.html#on">on</a></li>
            
                <li data-name="Rekord.Database#once"><a href="Rekord.Database.html#once">once</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Eventful">
            <span class="title">
                <a href="Rekord.Eventful.html">Rekord.Eventful</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.Eventful#on"><a href="Rekord.Eventful.html#on">on</a></li>
            
                <li data-name="Rekord.Eventful#once"><a href="Rekord.Eventful.html#once">once</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Eventful$">
            <span class="title">
                <a href="Rekord.Eventful$.html">Rekord.Eventful$</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.Eventful$#$on"><a href="Rekord.Eventful$.html#$on">$on</a></li>
            
                <li data-name="Rekord.Eventful$#$once"><a href="Rekord.Eventful$.html#$once">$once</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.FilteredCollection">
            <span class="title">
                <a href="Rekord.FilteredCollection.html">Rekord.FilteredCollection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.FilteredCollection#base"><a href="Rekord.FilteredCollection.html#base">base</a></li>
            
                <li data-name="Rekord.FilteredCollection#comparator"><a href="Rekord.FilteredCollection.html#comparator">comparator</a></li>
            
                <li data-name="Rekord.FilteredCollection#filter"><a href="Rekord.FilteredCollection.html#filter">filter</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.FilteredCollection#add"><a href="Rekord.FilteredCollection.html#add">add</a></li>
            
                <li data-name="Rekord.FilteredCollection#addAll"><a href="Rekord.FilteredCollection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.FilteredCollection#addComparator"><a href="Rekord.FilteredCollection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.FilteredCollection#aggregate"><a href="Rekord.FilteredCollection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.FilteredCollection#avg"><a href="Rekord.FilteredCollection.html#avg">avg</a></li>
            
                <li data-name="Rekord.FilteredCollection#bind"><a href="Rekord.FilteredCollection.html#bind">bind</a></li>
            
                <li data-name="Rekord.FilteredCollection#change"><a href="Rekord.FilteredCollection.html#change">change</a></li>
            
                <li data-name="Rekord.FilteredCollection#chunk"><a href="Rekord.FilteredCollection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.FilteredCollection#clear"><a href="Rekord.FilteredCollection.html#clear">clear</a></li>
            
                <li data-name="Rekord.FilteredCollection#clone"><a href="Rekord.FilteredCollection.html#clone">clone</a></li>
            
                <li data-name="Rekord.FilteredCollection#cloneEmpty"><a href="Rekord.FilteredCollection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.FilteredCollection#complement"><a href="Rekord.FilteredCollection.html#complement">complement</a></li>
            
                <li data-name="Rekord.FilteredCollection#connect"><a href="Rekord.FilteredCollection.html#connect">connect</a></li>
            
                <li data-name="Rekord.FilteredCollection#contains"><a href="Rekord.FilteredCollection.html#contains">contains</a></li>
            
                <li data-name="Rekord.FilteredCollection#count"><a href="Rekord.FilteredCollection.html#count">count</a></li>
            
                <li data-name="Rekord.FilteredCollection#countWhere"><a href="Rekord.FilteredCollection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#disconnect"><a href="Rekord.FilteredCollection.html#disconnect">disconnect</a></li>
            
                <li data-name="Rekord.FilteredCollection#each"><a href="Rekord.FilteredCollection.html#each">each</a></li>
            
                <li data-name="Rekord.FilteredCollection#eachWhere"><a href="Rekord.FilteredCollection.html#eachWhere">eachWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#filtered"><a href="Rekord.FilteredCollection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.FilteredCollection#first"><a href="Rekord.FilteredCollection.html#first">first</a></li>
            
                <li data-name="Rekord.FilteredCollection#firstWhere"><a href="Rekord.FilteredCollection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#group"><a href="Rekord.FilteredCollection.html#group">group</a></li>
            
                <li data-name="Rekord.FilteredCollection#indexOf"><a href="Rekord.FilteredCollection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.FilteredCollection#init"><a href="Rekord.FilteredCollection.html#init">init</a></li>
            
                <li data-name="Rekord.FilteredCollection#insertAt"><a href="Rekord.FilteredCollection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.FilteredCollection#intersect"><a href="Rekord.FilteredCollection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.FilteredCollection#isSorted"><a href="Rekord.FilteredCollection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.FilteredCollection#last"><a href="Rekord.FilteredCollection.html#last">last</a></li>
            
                <li data-name="Rekord.FilteredCollection#lastWhere"><a href="Rekord.FilteredCollection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#max"><a href="Rekord.FilteredCollection.html#max">max</a></li>
            
                <li data-name="Rekord.FilteredCollection#maxModel"><a href="Rekord.FilteredCollection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.FilteredCollection#min"><a href="Rekord.FilteredCollection.html#min">min</a></li>
            
                <li data-name="Rekord.FilteredCollection#minModel"><a href="Rekord.FilteredCollection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.FilteredCollection#on"><a href="Rekord.FilteredCollection.html#on">on</a></li>
            
                <li data-name="Rekord.FilteredCollection#once"><a href="Rekord.FilteredCollection.html#once">once</a></li>
            
                <li data-name="Rekord.FilteredCollection#page"><a href="Rekord.FilteredCollection.html#page">page</a></li>
            
                <li data-name="Rekord.FilteredCollection#pluck"><a href="Rekord.FilteredCollection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.FilteredCollection#pop"><a href="Rekord.FilteredCollection.html#pop">pop</a></li>
            
                <li data-name="Rekord.FilteredCollection#push"><a href="Rekord.FilteredCollection.html#push">push</a></li>
            
                <li data-name="Rekord.FilteredCollection#random"><a href="Rekord.FilteredCollection.html#random">random</a></li>
            
                <li data-name="Rekord.FilteredCollection#reduce"><a href="Rekord.FilteredCollection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.FilteredCollection#remove"><a href="Rekord.FilteredCollection.html#remove">remove</a></li>
            
                <li data-name="Rekord.FilteredCollection#removeAll"><a href="Rekord.FilteredCollection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.FilteredCollection#removeAt"><a href="Rekord.FilteredCollection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.FilteredCollection#removeWhere"><a href="Rekord.FilteredCollection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.FilteredCollection#reset"><a href="Rekord.FilteredCollection.html#reset">reset</a></li>
            
                <li data-name="Rekord.FilteredCollection#reverse"><a href="Rekord.FilteredCollection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.FilteredCollection#setComparator"><a href="Rekord.FilteredCollection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.FilteredCollection#setFilter"><a href="Rekord.FilteredCollection.html#setFilter">setFilter</a></li>
            
                <li data-name="Rekord.FilteredCollection#shift"><a href="Rekord.FilteredCollection.html#shift">shift</a></li>
            
                <li data-name="Rekord.FilteredCollection#sort"><a href="Rekord.FilteredCollection.html#sort">sort</a></li>
            
                <li data-name="Rekord.FilteredCollection#splice"><a href="Rekord.FilteredCollection.html#splice">splice</a></li>
            
                <li data-name="Rekord.FilteredCollection#subtract"><a href="Rekord.FilteredCollection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.FilteredCollection#sum"><a href="Rekord.FilteredCollection.html#sum">sum</a></li>
            
                <li data-name="Rekord.FilteredCollection#sync"><a href="Rekord.FilteredCollection.html#sync">sync</a></li>
            
                <li data-name="Rekord.FilteredCollection#toArray"><a href="Rekord.FilteredCollection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.FilteredCollection#unshift"><a href="Rekord.FilteredCollection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.FilteredCollection#where"><a href="Rekord.FilteredCollection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.FilteredCollection#event:add"><a href="Rekord.FilteredCollection.html#event:add">add</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:adds"><a href="Rekord.FilteredCollection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:changes"><a href="Rekord.FilteredCollection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:cleared"><a href="Rekord.FilteredCollection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:remove"><a href="Rekord.FilteredCollection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:removes"><a href="Rekord.FilteredCollection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:reset"><a href="Rekord.FilteredCollection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:sort"><a href="Rekord.FilteredCollection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.FilteredCollection#event:updates"><a href="Rekord.FilteredCollection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.FilteredModelCollection">
            <span class="title">
                <a href="Rekord.FilteredModelCollection.html">Rekord.FilteredModelCollection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.FilteredModelCollection#base"><a href="Rekord.FilteredModelCollection.html#base">base</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#comparator"><a href="Rekord.FilteredModelCollection.html#comparator">comparator</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#database"><a href="Rekord.FilteredModelCollection.html#database">database</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#filter"><a href="Rekord.FilteredModelCollection.html#filter">filter</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#map"><a href="Rekord.FilteredModelCollection.html#map">map</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.FilteredModelCollection#add"><a href="Rekord.FilteredModelCollection.html#add">add</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#addAll"><a href="Rekord.FilteredModelCollection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#addComparator"><a href="Rekord.FilteredModelCollection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#aggregate"><a href="Rekord.FilteredModelCollection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#avg"><a href="Rekord.FilteredModelCollection.html#avg">avg</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#bind"><a href="Rekord.FilteredModelCollection.html#bind">bind</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#buildKeyFromInput"><a href="Rekord.FilteredModelCollection.html#buildKeyFromInput">buildKeyFromInput</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#cancelWhere"><a href="Rekord.FilteredModelCollection.html#cancelWhere">cancelWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#change"><a href="Rekord.FilteredModelCollection.html#change">change</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#chunk"><a href="Rekord.FilteredModelCollection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#clear"><a href="Rekord.FilteredModelCollection.html#clear">clear</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#clone"><a href="Rekord.FilteredModelCollection.html#clone">clone</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#cloneEmpty"><a href="Rekord.FilteredModelCollection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#complement"><a href="Rekord.FilteredModelCollection.html#complement">complement</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#connect"><a href="Rekord.FilteredModelCollection.html#connect">connect</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#contains"><a href="Rekord.FilteredModelCollection.html#contains">contains</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#count"><a href="Rekord.FilteredModelCollection.html#count">count</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#countWhere"><a href="Rekord.FilteredModelCollection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#discardWhere"><a href="Rekord.FilteredModelCollection.html#discardWhere">discardWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#disconnect"><a href="Rekord.FilteredModelCollection.html#disconnect">disconnect</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#each"><a href="Rekord.FilteredModelCollection.html#each">each</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#eachWhere"><a href="Rekord.FilteredModelCollection.html#eachWhere">eachWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#filtered"><a href="Rekord.FilteredModelCollection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#first"><a href="Rekord.FilteredModelCollection.html#first">first</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#firstWhere"><a href="Rekord.FilteredModelCollection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#get"><a href="Rekord.FilteredModelCollection.html#get">get</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#group"><a href="Rekord.FilteredModelCollection.html#group">group</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#has"><a href="Rekord.FilteredModelCollection.html#has">has</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#indexOf"><a href="Rekord.FilteredModelCollection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#init"><a href="Rekord.FilteredModelCollection.html#init">init</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#insertAt"><a href="Rekord.FilteredModelCollection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#intersect"><a href="Rekord.FilteredModelCollection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#isSorted"><a href="Rekord.FilteredModelCollection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#keys"><a href="Rekord.FilteredModelCollection.html#keys">keys</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#last"><a href="Rekord.FilteredModelCollection.html#last">last</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#lastWhere"><a href="Rekord.FilteredModelCollection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#max"><a href="Rekord.FilteredModelCollection.html#max">max</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#maxModel"><a href="Rekord.FilteredModelCollection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#min"><a href="Rekord.FilteredModelCollection.html#min">min</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#minModel"><a href="Rekord.FilteredModelCollection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#on"><a href="Rekord.FilteredModelCollection.html#on">on</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#once"><a href="Rekord.FilteredModelCollection.html#once">once</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#page"><a href="Rekord.FilteredModelCollection.html#page">page</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#parseModel"><a href="Rekord.FilteredModelCollection.html#parseModel">parseModel</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#pluck"><a href="Rekord.FilteredModelCollection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#pop"><a href="Rekord.FilteredModelCollection.html#pop">pop</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#popWhere"><a href="Rekord.FilteredModelCollection.html#popWhere">popWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#push"><a href="Rekord.FilteredModelCollection.html#push">push</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#pushWhere"><a href="Rekord.FilteredModelCollection.html#pushWhere">pushWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#put"><a href="Rekord.FilteredModelCollection.html#put">put</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#random"><a href="Rekord.FilteredModelCollection.html#random">random</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#rebuild"><a href="Rekord.FilteredModelCollection.html#rebuild">rebuild</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#reduce"><a href="Rekord.FilteredModelCollection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#refreshWhere"><a href="Rekord.FilteredModelCollection.html#refreshWhere">refreshWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#remove"><a href="Rekord.FilteredModelCollection.html#remove">remove</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#removeAll"><a href="Rekord.FilteredModelCollection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#removeAt"><a href="Rekord.FilteredModelCollection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#removeWhere"><a href="Rekord.FilteredModelCollection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#reset"><a href="Rekord.FilteredModelCollection.html#reset">reset</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#reverse"><a href="Rekord.FilteredModelCollection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#saveWhere"><a href="Rekord.FilteredModelCollection.html#saveWhere">saveWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#setComparator"><a href="Rekord.FilteredModelCollection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#setFilter"><a href="Rekord.FilteredModelCollection.html#setFilter">setFilter</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#shift"><a href="Rekord.FilteredModelCollection.html#shift">shift</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#sort"><a href="Rekord.FilteredModelCollection.html#sort">sort</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#splice"><a href="Rekord.FilteredModelCollection.html#splice">splice</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#subtract"><a href="Rekord.FilteredModelCollection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#sum"><a href="Rekord.FilteredModelCollection.html#sum">sum</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#sync"><a href="Rekord.FilteredModelCollection.html#sync">sync</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#toArray"><a href="Rekord.FilteredModelCollection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#unshift"><a href="Rekord.FilteredModelCollection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#update"><a href="Rekord.FilteredModelCollection.html#update">update</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#updateWhere"><a href="Rekord.FilteredModelCollection.html#updateWhere">updateWhere</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#where"><a href="Rekord.FilteredModelCollection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.FilteredModelCollection#event:add"><a href="Rekord.FilteredModelCollection.html#event:add">add</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#event:adds"><a href="Rekord.FilteredModelCollection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#event:changes"><a href="Rekord.FilteredModelCollection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#event:cleared"><a href="Rekord.FilteredModelCollection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#event:remove"><a href="Rekord.FilteredModelCollection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#event:removes"><a href="Rekord.FilteredModelCollection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#event:reset"><a href="Rekord.FilteredModelCollection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#event:sort"><a href="Rekord.FilteredModelCollection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.FilteredModelCollection#event:updates"><a href="Rekord.FilteredModelCollection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Map">
            <span class="title">
                <a href="Rekord.Map.html">Rekord.Map</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.Map#indices"><a href="Rekord.Map.html#indices">indices</a></li>
            
                <li data-name="Rekord.Map#keys"><a href="Rekord.Map.html#keys">keys</a></li>
            
                <li data-name="Rekord.Map#values"><a href="Rekord.Map.html#values">values</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Model">
            <span class="title">
                <a href="Rekord.Model.html">Rekord.Model</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.Model.all"><a href="Rekord.Model.html#.all">all</a></li>
            
                <li data-name="Rekord.Model.boot"><a href="Rekord.Model.html#.boot">boot</a></li>
            
                <li data-name="Rekord.Model.collect"><a href="Rekord.Model.html#.collect">collect</a></li>
            
                <li data-name="Rekord.Model.create"><a href="Rekord.Model.html#.create">create</a></li>
            
                <li data-name="Rekord.Model.fetch"><a href="Rekord.Model.html#.fetch">fetch</a></li>
            
                <li data-name="Rekord.Model.fetchAll"><a href="Rekord.Model.html#.fetchAll">fetchAll</a></li>
            
                <li data-name="Rekord.Model.get"><a href="Rekord.Model.html#.get">get</a></li>
            
                <li data-name="Rekord.Model.grab"><a href="Rekord.Model.html#.grab">grab</a></li>
            
                <li data-name="Rekord.Model.grabAll"><a href="Rekord.Model.html#.grabAll">grabAll</a></li>
            
                <li data-name="Rekord.Model.persist"><a href="Rekord.Model.html#.persist">persist</a></li>
            
                <li data-name="Rekord.Model.persist"><a href="Rekord.Model.html#.persist">persist</a></li>
            
                <li data-name="Rekord.Model.ready"><a href="Rekord.Model.html#.ready">ready</a></li>
            
                <li data-name="Rekord.Model.refresh"><a href="Rekord.Model.html#.refresh">refresh</a></li>
            
                <li data-name="Rekord.Model.search"><a href="Rekord.Model.html#.search">search</a></li>
            
                <li data-name="Rekord.Model.searchPaged"><a href="Rekord.Model.html#.searchPaged">searchPaged</a></li>
            
                <li data-name="Rekord.Model#$on"><a href="Rekord.Model.html#$on">$on</a></li>
            
                <li data-name="Rekord.Model#$once"><a href="Rekord.Model.html#$once">$once</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.ModelCollection">
            <span class="title">
                <a href="Rekord.ModelCollection.html">Rekord.ModelCollection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.ModelCollection#comparator"><a href="Rekord.ModelCollection.html#comparator">comparator</a></li>
            
                <li data-name="Rekord.ModelCollection#database"><a href="Rekord.ModelCollection.html#database">database</a></li>
            
                <li data-name="Rekord.ModelCollection#map"><a href="Rekord.ModelCollection.html#map">map</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.ModelCollection#add"><a href="Rekord.ModelCollection.html#add">add</a></li>
            
                <li data-name="Rekord.ModelCollection#addAll"><a href="Rekord.ModelCollection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.ModelCollection#addComparator"><a href="Rekord.ModelCollection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.ModelCollection#aggregate"><a href="Rekord.ModelCollection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.ModelCollection#avg"><a href="Rekord.ModelCollection.html#avg">avg</a></li>
            
                <li data-name="Rekord.ModelCollection#buildKeyFromInput"><a href="Rekord.ModelCollection.html#buildKeyFromInput">buildKeyFromInput</a></li>
            
                <li data-name="Rekord.ModelCollection#cancelWhere"><a href="Rekord.ModelCollection.html#cancelWhere">cancelWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#change"><a href="Rekord.ModelCollection.html#change">change</a></li>
            
                <li data-name="Rekord.ModelCollection#chunk"><a href="Rekord.ModelCollection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.ModelCollection#clear"><a href="Rekord.ModelCollection.html#clear">clear</a></li>
            
                <li data-name="Rekord.ModelCollection#clone"><a href="Rekord.ModelCollection.html#clone">clone</a></li>
            
                <li data-name="Rekord.ModelCollection#cloneEmpty"><a href="Rekord.ModelCollection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.ModelCollection#complement"><a href="Rekord.ModelCollection.html#complement">complement</a></li>
            
                <li data-name="Rekord.ModelCollection#contains"><a href="Rekord.ModelCollection.html#contains">contains</a></li>
            
                <li data-name="Rekord.ModelCollection#count"><a href="Rekord.ModelCollection.html#count">count</a></li>
            
                <li data-name="Rekord.ModelCollection#countWhere"><a href="Rekord.ModelCollection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#discardWhere"><a href="Rekord.ModelCollection.html#discardWhere">discardWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#each"><a href="Rekord.ModelCollection.html#each">each</a></li>
            
                <li data-name="Rekord.ModelCollection#eachWhere"><a href="Rekord.ModelCollection.html#eachWhere">eachWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#filtered"><a href="Rekord.ModelCollection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.ModelCollection#first"><a href="Rekord.ModelCollection.html#first">first</a></li>
            
                <li data-name="Rekord.ModelCollection#firstWhere"><a href="Rekord.ModelCollection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#get"><a href="Rekord.ModelCollection.html#get">get</a></li>
            
                <li data-name="Rekord.ModelCollection#group"><a href="Rekord.ModelCollection.html#group">group</a></li>
            
                <li data-name="Rekord.ModelCollection#has"><a href="Rekord.ModelCollection.html#has">has</a></li>
            
                <li data-name="Rekord.ModelCollection#indexOf"><a href="Rekord.ModelCollection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.ModelCollection#init"><a href="Rekord.ModelCollection.html#init">init</a></li>
            
                <li data-name="Rekord.ModelCollection#insertAt"><a href="Rekord.ModelCollection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.ModelCollection#intersect"><a href="Rekord.ModelCollection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.ModelCollection#isSorted"><a href="Rekord.ModelCollection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.ModelCollection#keys"><a href="Rekord.ModelCollection.html#keys">keys</a></li>
            
                <li data-name="Rekord.ModelCollection#last"><a href="Rekord.ModelCollection.html#last">last</a></li>
            
                <li data-name="Rekord.ModelCollection#lastWhere"><a href="Rekord.ModelCollection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#max"><a href="Rekord.ModelCollection.html#max">max</a></li>
            
                <li data-name="Rekord.ModelCollection#maxModel"><a href="Rekord.ModelCollection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.ModelCollection#min"><a href="Rekord.ModelCollection.html#min">min</a></li>
            
                <li data-name="Rekord.ModelCollection#minModel"><a href="Rekord.ModelCollection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.ModelCollection#on"><a href="Rekord.ModelCollection.html#on">on</a></li>
            
                <li data-name="Rekord.ModelCollection#once"><a href="Rekord.ModelCollection.html#once">once</a></li>
            
                <li data-name="Rekord.ModelCollection#page"><a href="Rekord.ModelCollection.html#page">page</a></li>
            
                <li data-name="Rekord.ModelCollection#parseModel"><a href="Rekord.ModelCollection.html#parseModel">parseModel</a></li>
            
                <li data-name="Rekord.ModelCollection#pluck"><a href="Rekord.ModelCollection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.ModelCollection#pop"><a href="Rekord.ModelCollection.html#pop">pop</a></li>
            
                <li data-name="Rekord.ModelCollection#popWhere"><a href="Rekord.ModelCollection.html#popWhere">popWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#push"><a href="Rekord.ModelCollection.html#push">push</a></li>
            
                <li data-name="Rekord.ModelCollection#pushWhere"><a href="Rekord.ModelCollection.html#pushWhere">pushWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#put"><a href="Rekord.ModelCollection.html#put">put</a></li>
            
                <li data-name="Rekord.ModelCollection#random"><a href="Rekord.ModelCollection.html#random">random</a></li>
            
                <li data-name="Rekord.ModelCollection#rebuild"><a href="Rekord.ModelCollection.html#rebuild">rebuild</a></li>
            
                <li data-name="Rekord.ModelCollection#reduce"><a href="Rekord.ModelCollection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.ModelCollection#refreshWhere"><a href="Rekord.ModelCollection.html#refreshWhere">refreshWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#remove"><a href="Rekord.ModelCollection.html#remove">remove</a></li>
            
                <li data-name="Rekord.ModelCollection#removeAll"><a href="Rekord.ModelCollection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.ModelCollection#removeAt"><a href="Rekord.ModelCollection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.ModelCollection#removeWhere"><a href="Rekord.ModelCollection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#reset"><a href="Rekord.ModelCollection.html#reset">reset</a></li>
            
                <li data-name="Rekord.ModelCollection#reverse"><a href="Rekord.ModelCollection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.ModelCollection#saveWhere"><a href="Rekord.ModelCollection.html#saveWhere">saveWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#setComparator"><a href="Rekord.ModelCollection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.ModelCollection#shift"><a href="Rekord.ModelCollection.html#shift">shift</a></li>
            
                <li data-name="Rekord.ModelCollection#sort"><a href="Rekord.ModelCollection.html#sort">sort</a></li>
            
                <li data-name="Rekord.ModelCollection#splice"><a href="Rekord.ModelCollection.html#splice">splice</a></li>
            
                <li data-name="Rekord.ModelCollection#subtract"><a href="Rekord.ModelCollection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.ModelCollection#sum"><a href="Rekord.ModelCollection.html#sum">sum</a></li>
            
                <li data-name="Rekord.ModelCollection#toArray"><a href="Rekord.ModelCollection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.ModelCollection#unshift"><a href="Rekord.ModelCollection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.ModelCollection#update"><a href="Rekord.ModelCollection.html#update">update</a></li>
            
                <li data-name="Rekord.ModelCollection#updateWhere"><a href="Rekord.ModelCollection.html#updateWhere">updateWhere</a></li>
            
                <li data-name="Rekord.ModelCollection#where"><a href="Rekord.ModelCollection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.ModelCollection#event:add"><a href="Rekord.ModelCollection.html#event:add">add</a></li>
            
                <li data-name="Rekord.ModelCollection#event:adds"><a href="Rekord.ModelCollection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.ModelCollection#event:changes"><a href="Rekord.ModelCollection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.ModelCollection#event:cleared"><a href="Rekord.ModelCollection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.ModelCollection#event:remove"><a href="Rekord.ModelCollection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.ModelCollection#event:removes"><a href="Rekord.ModelCollection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.ModelCollection#event:reset"><a href="Rekord.ModelCollection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.ModelCollection#event:sort"><a href="Rekord.ModelCollection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.ModelCollection#event:updates"><a href="Rekord.ModelCollection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Page">
            <span class="title">
                <a href="Rekord.Page.html">Rekord.Page</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.Page#on"><a href="Rekord.Page.html#on">on</a></li>
            
                <li data-name="Rekord.Page#once"><a href="Rekord.Page.html#once">once</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.RelationCollection">
            <span class="title">
                <a href="Rekord.RelationCollection.html">Rekord.RelationCollection</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Rekord.RelationCollection#comparator"><a href="Rekord.RelationCollection.html#comparator">comparator</a></li>
            
                <li data-name="Rekord.RelationCollection#database"><a href="Rekord.RelationCollection.html#database">database</a></li>
            
                <li data-name="Rekord.RelationCollection#map"><a href="Rekord.RelationCollection.html#map">map</a></li>
            
                <li data-name="Rekord.RelationCollection#model"><a href="Rekord.RelationCollection.html#model">model</a></li>
            
                <li data-name="Rekord.RelationCollection#relator"><a href="Rekord.RelationCollection.html#relator">relator</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rekord.RelationCollection#add"><a href="Rekord.RelationCollection.html#add">add</a></li>
            
                <li data-name="Rekord.RelationCollection#addAll"><a href="Rekord.RelationCollection.html#addAll">addAll</a></li>
            
                <li data-name="Rekord.RelationCollection#addComparator"><a href="Rekord.RelationCollection.html#addComparator">addComparator</a></li>
            
                <li data-name="Rekord.RelationCollection#aggregate"><a href="Rekord.RelationCollection.html#aggregate">aggregate</a></li>
            
                <li data-name="Rekord.RelationCollection#avg"><a href="Rekord.RelationCollection.html#avg">avg</a></li>
            
                <li data-name="Rekord.RelationCollection#buildKeyFromInput"><a href="Rekord.RelationCollection.html#buildKeyFromInput">buildKeyFromInput</a></li>
            
                <li data-name="Rekord.RelationCollection#cancelWhere"><a href="Rekord.RelationCollection.html#cancelWhere">cancelWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#change"><a href="Rekord.RelationCollection.html#change">change</a></li>
            
                <li data-name="Rekord.RelationCollection#chunk"><a href="Rekord.RelationCollection.html#chunk">chunk</a></li>
            
                <li data-name="Rekord.RelationCollection#clear"><a href="Rekord.RelationCollection.html#clear">clear</a></li>
            
                <li data-name="Rekord.RelationCollection#clone"><a href="Rekord.RelationCollection.html#clone">clone</a></li>
            
                <li data-name="Rekord.RelationCollection#cloneEmpty"><a href="Rekord.RelationCollection.html#cloneEmpty">cloneEmpty</a></li>
            
                <li data-name="Rekord.RelationCollection#complement"><a href="Rekord.RelationCollection.html#complement">complement</a></li>
            
                <li data-name="Rekord.RelationCollection#contains"><a href="Rekord.RelationCollection.html#contains">contains</a></li>
            
                <li data-name="Rekord.RelationCollection#count"><a href="Rekord.RelationCollection.html#count">count</a></li>
            
                <li data-name="Rekord.RelationCollection#countWhere"><a href="Rekord.RelationCollection.html#countWhere">countWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#discardWhere"><a href="Rekord.RelationCollection.html#discardWhere">discardWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#each"><a href="Rekord.RelationCollection.html#each">each</a></li>
            
                <li data-name="Rekord.RelationCollection#eachWhere"><a href="Rekord.RelationCollection.html#eachWhere">eachWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#filtered"><a href="Rekord.RelationCollection.html#filtered">filtered</a></li>
            
                <li data-name="Rekord.RelationCollection#first"><a href="Rekord.RelationCollection.html#first">first</a></li>
            
                <li data-name="Rekord.RelationCollection#firstWhere"><a href="Rekord.RelationCollection.html#firstWhere">firstWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#get"><a href="Rekord.RelationCollection.html#get">get</a></li>
            
                <li data-name="Rekord.RelationCollection#group"><a href="Rekord.RelationCollection.html#group">group</a></li>
            
                <li data-name="Rekord.RelationCollection#has"><a href="Rekord.RelationCollection.html#has">has</a></li>
            
                <li data-name="Rekord.RelationCollection#indexOf"><a href="Rekord.RelationCollection.html#indexOf">indexOf</a></li>
            
                <li data-name="Rekord.RelationCollection#init"><a href="Rekord.RelationCollection.html#init">init</a></li>
            
                <li data-name="Rekord.RelationCollection#insertAt"><a href="Rekord.RelationCollection.html#insertAt">insertAt</a></li>
            
                <li data-name="Rekord.RelationCollection#intersect"><a href="Rekord.RelationCollection.html#intersect">intersect</a></li>
            
                <li data-name="Rekord.RelationCollection#isRelated"><a href="Rekord.RelationCollection.html#isRelated">isRelated</a></li>
            
                <li data-name="Rekord.RelationCollection#isSorted"><a href="Rekord.RelationCollection.html#isSorted">isSorted</a></li>
            
                <li data-name="Rekord.RelationCollection#keys"><a href="Rekord.RelationCollection.html#keys">keys</a></li>
            
                <li data-name="Rekord.RelationCollection#last"><a href="Rekord.RelationCollection.html#last">last</a></li>
            
                <li data-name="Rekord.RelationCollection#lastWhere"><a href="Rekord.RelationCollection.html#lastWhere">lastWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#max"><a href="Rekord.RelationCollection.html#max">max</a></li>
            
                <li data-name="Rekord.RelationCollection#maxModel"><a href="Rekord.RelationCollection.html#maxModel">maxModel</a></li>
            
                <li data-name="Rekord.RelationCollection#min"><a href="Rekord.RelationCollection.html#min">min</a></li>
            
                <li data-name="Rekord.RelationCollection#minModel"><a href="Rekord.RelationCollection.html#minModel">minModel</a></li>
            
                <li data-name="Rekord.RelationCollection#on"><a href="Rekord.RelationCollection.html#on">on</a></li>
            
                <li data-name="Rekord.RelationCollection#once"><a href="Rekord.RelationCollection.html#once">once</a></li>
            
                <li data-name="Rekord.RelationCollection#page"><a href="Rekord.RelationCollection.html#page">page</a></li>
            
                <li data-name="Rekord.RelationCollection#parseModel"><a href="Rekord.RelationCollection.html#parseModel">parseModel</a></li>
            
                <li data-name="Rekord.RelationCollection#pluck"><a href="Rekord.RelationCollection.html#pluck">pluck</a></li>
            
                <li data-name="Rekord.RelationCollection#pop"><a href="Rekord.RelationCollection.html#pop">pop</a></li>
            
                <li data-name="Rekord.RelationCollection#popWhere"><a href="Rekord.RelationCollection.html#popWhere">popWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#push"><a href="Rekord.RelationCollection.html#push">push</a></li>
            
                <li data-name="Rekord.RelationCollection#pushWhere"><a href="Rekord.RelationCollection.html#pushWhere">pushWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#put"><a href="Rekord.RelationCollection.html#put">put</a></li>
            
                <li data-name="Rekord.RelationCollection#random"><a href="Rekord.RelationCollection.html#random">random</a></li>
            
                <li data-name="Rekord.RelationCollection#rebuild"><a href="Rekord.RelationCollection.html#rebuild">rebuild</a></li>
            
                <li data-name="Rekord.RelationCollection#reduce"><a href="Rekord.RelationCollection.html#reduce">reduce</a></li>
            
                <li data-name="Rekord.RelationCollection#refreshWhere"><a href="Rekord.RelationCollection.html#refreshWhere">refreshWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#relate"><a href="Rekord.RelationCollection.html#relate">relate</a></li>
            
                <li data-name="Rekord.RelationCollection#remove"><a href="Rekord.RelationCollection.html#remove">remove</a></li>
            
                <li data-name="Rekord.RelationCollection#removeAll"><a href="Rekord.RelationCollection.html#removeAll">removeAll</a></li>
            
                <li data-name="Rekord.RelationCollection#removeAt"><a href="Rekord.RelationCollection.html#removeAt">removeAt</a></li>
            
                <li data-name="Rekord.RelationCollection#removeWhere"><a href="Rekord.RelationCollection.html#removeWhere">removeWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#reset"><a href="Rekord.RelationCollection.html#reset">reset</a></li>
            
                <li data-name="Rekord.RelationCollection#reverse"><a href="Rekord.RelationCollection.html#reverse">reverse</a></li>
            
                <li data-name="Rekord.RelationCollection#saveWhere"><a href="Rekord.RelationCollection.html#saveWhere">saveWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#set"><a href="Rekord.RelationCollection.html#set">set</a></li>
            
                <li data-name="Rekord.RelationCollection#setComparator"><a href="Rekord.RelationCollection.html#setComparator">setComparator</a></li>
            
                <li data-name="Rekord.RelationCollection#shift"><a href="Rekord.RelationCollection.html#shift">shift</a></li>
            
                <li data-name="Rekord.RelationCollection#sort"><a href="Rekord.RelationCollection.html#sort">sort</a></li>
            
                <li data-name="Rekord.RelationCollection#splice"><a href="Rekord.RelationCollection.html#splice">splice</a></li>
            
                <li data-name="Rekord.RelationCollection#subtract"><a href="Rekord.RelationCollection.html#subtract">subtract</a></li>
            
                <li data-name="Rekord.RelationCollection#sum"><a href="Rekord.RelationCollection.html#sum">sum</a></li>
            
                <li data-name="Rekord.RelationCollection#toArray"><a href="Rekord.RelationCollection.html#toArray">toArray</a></li>
            
                <li data-name="Rekord.RelationCollection#unrelate"><a href="Rekord.RelationCollection.html#unrelate">unrelate</a></li>
            
                <li data-name="Rekord.RelationCollection#unshift"><a href="Rekord.RelationCollection.html#unshift">unshift</a></li>
            
                <li data-name="Rekord.RelationCollection#update"><a href="Rekord.RelationCollection.html#update">update</a></li>
            
                <li data-name="Rekord.RelationCollection#updateWhere"><a href="Rekord.RelationCollection.html#updateWhere">updateWhere</a></li>
            
                <li data-name="Rekord.RelationCollection#where"><a href="Rekord.RelationCollection.html#where">where</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            <span class="subtitle">Events</span>
            
                <li data-name="Rekord.RelationCollection#event:add"><a href="Rekord.RelationCollection.html#event:add">add</a></li>
            
                <li data-name="Rekord.RelationCollection#event:adds"><a href="Rekord.RelationCollection.html#event:adds">adds</a></li>
            
                <li data-name="Rekord.RelationCollection#event:changes"><a href="Rekord.RelationCollection.html#event:changes">changes</a></li>
            
                <li data-name="Rekord.RelationCollection#event:cleared"><a href="Rekord.RelationCollection.html#event:cleared">cleared</a></li>
            
                <li data-name="Rekord.RelationCollection#event:remove"><a href="Rekord.RelationCollection.html#event:remove">remove</a></li>
            
                <li data-name="Rekord.RelationCollection#event:removes"><a href="Rekord.RelationCollection.html#event:removes">removes</a></li>
            
                <li data-name="Rekord.RelationCollection#event:reset"><a href="Rekord.RelationCollection.html#event:reset">reset</a></li>
            
                <li data-name="Rekord.RelationCollection#event:sort"><a href="Rekord.RelationCollection.html#event:sort">sort</a></li>
            
                <li data-name="Rekord.RelationCollection#event:updates"><a href="Rekord.RelationCollection.html#event:updates">updates</a></li>
            
            </ul>
        </li>
    
        <li class="item" data-name="Rekord.Search">
            <span class="title">
                <a href="Rekord.Search.html">Rekord.Search</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="Database.js.html">Source: Database.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>

/**
 *
 * @constructor
 * @memberof Rekord
 * @augments Rekord.Eventful
 */
function Database(options)
{
  var defaults = Database.Defaults;

  // Apply the options to this database!
  applyOptions( this, options, defaults );

  // Apply options not specified in defaults
  for (var prop in options)
  {
    if ( !(prop in defaults) )
    {
      this[ prop ] = options[ prop ];
    }
  }

  // If key fields aren't in fields array, add them in
  var key = this.key;
  var fields = this.fields;
  if ( isArray( key ) )
  {
    for (var i = key.length - 1; i >= 0; i--)
    {
      if ( indexOf( fields, key[ i ] ) === false )
      {
        fields.unshift( key[ i ] );
      }
    }
  }
  else // isString( key )
  {
    if ( indexOf( fields, key ) === false )
    {
      fields.unshift( key );
    }
  }

  // Properties
  this.keys = toArray( this.key );
  this.models = new ModelCollection( this );
  this.all = {};
  this.loaded = {};
  this.className = this.className || toCamelCase( this.name );
  this.initialized = false;
  this.pendingRefresh = false;
  this.localLoaded = false;
  this.remoteLoaded = false;
  this.firstRefresh = false;
  this.pendingOperations = 0;
  this.afterOnline = false;
  this.saveFields = copy( fields );
  this.readyPromise = new Promise( null, false );

  // Prepare
  this.prepare( this, options );

  // Services
  this.rest   = this.createRest( this );
  this.store  = this.createStore( this );
  this.live   = this.createLive( this );

  // Functions
  this.setComparator( this.comparator, this.comparatorNullsFirst );
  this.setRevision( this.revision );
  this.setSummarize( this.summarize );

  // Relations
  this.relations = {};
  this.relationNames = [];

  for (var relationType in options)
  {
    if ( !(relationType in Rekord.Relations) )
    {
      continue;
    }

    var RelationClass = Rekord.Relations[ relationType ];

    if ( !(RelationClass.prototype instanceof Relation ) )
    {
      continue;
    }

    var relationMap = options[ relationType ];

    for ( var name in relationMap )
    {
      var relationOptions = relationMap[ name ];
      var relation = new RelationClass();

      relation.init( this, name, relationOptions );

      if ( relation.save )
      {
        this.saveFields.push( name );
      }

      this.relations[ name ] = relation;
      this.relationNames.push( name );
    }
  }
}

function defaultEncode(model, data, forSaving)
{
  var encodings = this.encodings;

  for (var prop in data)
  {
    if ( prop in encodings )
    {
      data[ prop ] = encodings[ prop ]( data[ prop ], model, prop, forSaving );
    }
  }

  return data;
}

function defaultDecode(rawData)
{
  var decodings = this.decodings;

  for (var prop in rawData)
  {
    if ( prop in decodings )
    {
      rawData[ prop ] = decodings[ prop ]( rawData[ prop ], rawData, prop );
    }
  }

  return rawData;
}

function defaultSummarize(model)
{
  return model.$key();
}

function defaultCreateRest(database)
{
  return Rekord.rest( database );
}

function defaultCreateStore(database)
{
  return Rekord.store( database );
}

function defaultCreateLive( database )
{
  return Rekord.live( database );
}

function defaultResolveModel( response )
{
  return response;
}

function defaultResolveModels( response )
{
  return response;
}

Database.Events =
{
  NoLoad:             'no-load',
  RemoteLoad:         'remote-load',
  LocalLoad:          'local-load',
  Updated:            'updated',
  ModelAdded:         'model-added',
  ModelUpdated:       'model-updated',
  ModelRemoved:       'model-removed',
  OperationsStarted:  'operations-started',
  OperationsFinished: 'operations-finished',
  Loads:              'no-load remote-load local-load',
  Changes:            'updated'
};

Database.Defaults =
{
  name:                 undefined,  // required
  className:            null,       // defaults to toCamelCase( name )
  key:                  'id',
  keySeparator:         '/',
  fields:               [],
  ignoredFields:        {},
  defaults:             {},
  publishAlways:        [],
  comparator:           null,
  comparatorNullsFirst: null,
  revision:             null,
  cascade:              Cascade.All,
  load:                 Load.None,
  allComplete:          false,
  loadRelations:        true,
  autoRefresh:          true,
  cache:                Cache.All,
  fullSave:             false,
  fullPublish:          false,
  encodings:            {},
  decodings:            {},
  prepare:              noop,
  encode:               defaultEncode,
  decode:               defaultDecode,
  resolveModel:         defaultResolveModel,
  resolveModels:        defaultResolveModels,
  summarize:            defaultSummarize,
  createRest:           defaultCreateRest,
  createStore:          defaultCreateStore,
  createLive:           defaultCreateLive
};

addMethods( Database.prototype,
{

  // Notifies a callback when the database has loaded (either locally or remotely).
  ready: function(callback, context, persistent)
  {
    return this.readyPromise.success( callback, context, persistent );
  },

  // Determines whether the given object has data to save
  hasData: function(saving)
  {
    if ( !isObject( saving ) )
    {
      return false;
    }

    for (var prop in saving)
    {
      if ( !this.ignoredFields[ prop ] )
      {
        return true;
      }
    }

    return false;
  },

  // Grab a model with the given input and notify the callback
  grabModel: function(input, callback, context, remoteData)
  {
    var db = this;
    var promise = new Promise();

    promise.success( callback, context || db );

    function checkModel()
    {
      var result = db.parseModel( input, remoteData );

      if ( result !== false &amp;&amp; !promise.isComplete() &amp;&amp; db.initialized )
      {
        var remoteLoaded = db.remoteLoaded || !db.hasLoad( Load.All );
        var missingModel = (result === null || !result.$isSaved());
        var lazyLoad = db.hasLoad( Load.Lazy );

        if ( lazyLoad &amp;&amp; remoteLoaded &amp;&amp; missingModel )
        {
          if ( !result )
          {
            result = db.buildObjectFromKey( db.buildKeyFromInput( input ) );
          }

          result.$once( Model.Events.RemoteGets, function()
          {
            if ( !promise.isComplete() )
            {
              if ( isObject( input ) )
              {
                result.$set( input );
              }

              promise.resolve( result.$isSaved() ? result : null );
            }
          });

          result.$refresh();
        }
        else
        {
          promise.resolve( result );
        }
      }

      return promise.isComplete() ? false : true;
    }

    if ( checkModel() )
    {
      db.ready( checkModel, db, true );
    }

    return promise;
  },

  // Parses the model from the given input
  //
  // Returns false if the input doesn't resolve to a model at the moment
  // Returns null if the input doesn't resolve to a model and all models have been remotely loaded
  //
  // parseModel( Rekord )
  // parseModel( Rekord.Model )
  // parseModel( 'uuid' )
  // parseModel( ['uuid'] )
  // parseModel( modelInstance )
  // parseModel( {name:'new model'} )
  // parseModel( {id:4, name:'new or existing model'} )
  //
  parseModel: function(input, remoteData)
  {
    var db = this;
    var hasRemote = db.remoteLoaded || !db.hasLoad( Load.All );

    if ( !isValue( input ) )
    {
      return hasRemote ? null : false;
    }

    if ( isRekord( input ) )
    {
      input = new input();
    }
    if ( isFunction( input ) )
    {
      input = input();
    }

    var key = db.buildKeyFromInput( input );

    if ( input instanceof db.Model )
    {
      return input;
    }
    else if ( key in db.all )
    {
      var model = db.all[ key ];

      if ( isObject( input ) )
      {
        this.buildKeyFromRelations( input );

        if ( remoteData )
        {
          db.putRemoteData( input, key, model );
        }
        else
        {
          model.$set( input );
        }
      }

      return model;
    }
    else if ( isObject( input ) )
    {
      this.buildKeyFromRelations( input );

      if ( remoteData )
      {
        return db.putRemoteData( input );
      }
      else
      {
        return db.instantiate( db.decode( input ) );
      }
    }
    else if ( hasRemote )
    {
      return null;
    }

    return false;
  },

  // Removes the key from the given model
  removeKey: function(model)
  {
    var k = this.key;

    if ( isArray(k) )
    {
      for (var i = 0; i &lt; k.length; i++)
      {
        delete model[ k[i] ];
      }
    }
    else
    {
      delete model[ k ];
    }
  },

  // Builds a key string from the given model and array of fields
  buildKey: function(model, fields)
  {
    var key = this.buildKeys( model, fields );

    if ( isArray( key ) )
    {
      key = key.join( this.keySeparator );
    }

    return key;
  },

  buildKeyFromRelations: function(input)
  {
    if ( isObject( input ) )
    {
      for (var relationName in this.relations)
      {
        if ( relationName in input )
        {
          this.relations[ relationName ].buildKey( input );
        }
      }
    }
  },

  // Builds a key (possibly array) from the given model and array of fields
  buildKeys: function(model, fields)
  {
    var key = null;

    this.buildKeyFromRelations( model );

    if ( isArray( fields ) )
    {
      key = [];

      for (var i = 0; i &lt; fields.length; i++)
      {
        key.push( model[ fields[i] ] );
      }
    }
    else
    {
      key = model[ fields ];

      if (!key)
      {
        key = model[ fields ] = uuid();
      }
    }

    return key;
  },

  // Builds a key from various types of input.
  buildKeyFromInput: function(input)
  {
    if ( input instanceof this.Model )
    {
      return input.$key();
    }
    else if ( isArray( input ) ) // &amp;&amp; isArray( this.key )
    {
      return this.buildKeyFromArray( input );
    }
    else if ( isObject( input ) )
    {
      return this.buildKey( input, this.key );
    }

    return input;
  },

  // Builds a key from an array
  buildKeyFromArray: function(arr)
  {
    return arr.join( this.keySeparator );
  },

  // Gets the key from the given model
  getKey: function(model, quietly)
  {
    var key = this.key;
    var modelKey = this.buildKey( model, key );

    if ( hasFields( model, key, isValue ) )
    {
      return modelKey;
    }
    else if ( !quietly )
    {
      throw 'Composite key not supplied.';
    }

    return false;
  },

  // Gets the key from the given model
  getKeys: function(model)
  {
    return this.buildKeys( model, this.key );
  },

  buildObjectFromKey: function(key)
  {
    var db = this;

    var props = {};

    if ( isArray( db.key ) )
    {
      if ( isString( key ) )
      {
        key = key.split( db.keySeparator );
      }

      for (var i = 0; i &lt; db.key.length; i++)
      {
        props[ db.key[ i ] ] = key[ i ];
      }
    }
    else
    {
      props[ db.key ] = key;
    }

    return db.instantiate( props );
  },

  // Sorts the models &amp; notifies listeners that the database has been updated.
  updated: function()
  {
    this.sort(); // TODO remove
    this.trigger( Database.Events.Updated );
  },

  // Sets a revision comparision function for this database. It can be a field
  // name or a function. This is used to avoid updating model data that is older
  // than the model's current data.
  setRevision: function(revision)
  {
    if ( isFunction( revision ) )
    {
      this.revisionFunction = revision;
    }
    else if ( isString( revision ) )
    {
      this.revisionFunction = function(a, b)
      {
        var ar = isObject( a ) &amp;&amp; revision in a ? a[ revision ] : undefined;
        var br = isObject( b ) &amp;&amp; revision in b ? b[ revision ] : undefined;

        return ar === undefined || br === undefined ? false : compare( ar, br ) > 0;
      };
    }
    else
    {
      this.revisionFunction = function(a, b)
      {
        return false;
      };
    }
  },

  // Sets a comparator for this database. It can be a field name, a field name
  // with a minus in the front to sort in reverse, or a comparator function.
  setComparator: function(comparator, nullsFirst)
  {
    this.models.setComparator( comparator, nullsFirst );
  },

  addComparator: function(comparator, nullsFirst)
  {
    this.models.addComparator( comparator, nullsFirst );
  },

  setSummarize: function(summarize)
  {
    if ( isFunction( summarize ) )
    {
      this.summarize = summarize;
    }
    else if ( isString( summarize ) )
    {
      if ( indexOf( this.fields, summarize ) !== false )
      {
        this.summarize = function(model)
        {
          return isValue( model ) ? model[ summarize ] : model;
        };
      }
      else
      {
        this.summarize = createFormatter( summarize );
      }
    }
    else
    {
      this.summarize = function(model)
      {
        return model.$key();
      };
    }
  },

  // Sorts the database if it isn't sorted.
  sort: function()
  {
    this.models.sort();
  },

  // Determines whether this database is sorted.
  isSorted: function()
  {
    return this.models.isSorted();
  },

  clean: function()
  {
    var db = this;
    var keys = db.models.keys;
    var models = db.models;

    db.all = {};

    for (var i = 0; i &lt; keys.length; i++)
    {
      db.all[ keys[ i ] ] = models[ i ];
    }
  },

  // Handles when we receive data from the server - either from
  // a publish, refresh, or values being returned on a save.
  putRemoteData: function(encoded, key, model, overwrite)
  {
    if ( !isObject( encoded ) )
    {
      return model;
    }

    var db = this;
    var key = key || db.getKey( encoded );
    var model = model || db.all[ key ];
    var decoded = db.decode( copy( encoded ) );

    // Reject the data if it's a lower revision
    if ( model )
    {
      var revisionRejected = this.revisionFunction( model, encoded );

      if ( revisionRejected )
      {
        Rekord.debug( Rekord.Debugs.SAVE_OLD_REVISION, db, model, encoded );

        return model;
      }
    }

    // If the model already exists, update it.
    if ( model )
    {
      var keyFields = db.keys;

      for (var i = 0; i &lt; keyFields.length; i++)
      {
        var k = keyFields[ i ];
        var mk = model[ k ];
        var dk = decoded[ k ];

        if ( isValue( mk ) &amp;&amp; isValue( dk ) &amp;&amp; mk !== dk )
        {
          throw new Error('Model keys cannot be changed');
        }
      }

      db.all[ key ] = model;

      if ( !model.$saved )
      {
        model.$saved = {};
      }

      var current = model.$toJSON( true );
      var conflicts = {};
      var conflicted = false;
      var updated = {};
      var notReallySaved = isEmpty( model.$saved );
      var relations = db.relations;

      for (var prop in encoded)
      {
        if ( prop.charAt(0) === '$' )
        {
          continue;
        }

        if ( prop in relations )
        {
          model.$set( prop, encoded[ prop ], true );

          continue;
        }

        var currentValue = current[ prop ];
        var savedValue = model.$saved[ prop ];

        if ( notReallySaved || overwrite || equals( currentValue, savedValue ) )
        {
          model[ prop ] = decoded[ prop ];
          updated[ prop ] = encoded[ prop ];

          if ( model.$local )
          {
            model.$local[ prop ] = encoded[ prop ];
          }
        }
        else
        {
          conflicts[ prop ] = encoded[ prop ];
          conflicted = true;
        }

        model.$saved[ prop ] = copy( encoded[ prop ] );
      }

      if ( conflicted )
      {
        model.$trigger( Model.Events.PartialUpdate, [encoded, conflicts] );
      }
      else
      {
        model.$trigger( Model.Events.FullUpdate, [encoded, updated] );
      }

      model.$trigger( Model.Events.RemoteUpdate, [encoded] );

      model.$addOperation( SaveNow );

      if ( !db.models.has( key ) )
      {
        db.models.put( key, model );
        db.trigger( Database.Events.ModelAdded, [model, true] );
      }
    }
    // The model doesn't exist, create it.
    else
    {
      model = db.createModel( decoded, true );

      if ( db.cache === Cache.All )
      {
        model.$local = model.$toJSON( false );
        model.$local.$status = model.$status;
        model.$saved = model.$local.$saved = model.$toJSON( true );

        model.$addOperation( SaveNow );
      }
      else
      {
        model.$saved = model.$toJSON( true );
      }
    }

    return model;
  },

  createModel: function(decoded, remoteData)
  {
    var db = this;
    var model = db.instantiate( decoded, remoteData );
    var key = model.$key();

    if ( !db.models.has( key ) )
    {
      db.models.put( key, model );
      db.trigger( Database.Events.ModelAdded, [model, remoteData] );
    }

    return model;
  },

  destroyModel: function(model, modelKey)
  {
    var db = this;
    var key = modelKey || model.$key();

    delete db.all[ key ];

    db.models.remove( key );
    db.trigger( Database.Events.ModelRemoved, [model] );

    model.$trigger( Model.Events.RemoteAndRemove );

    Rekord.debug( Rekord.Debugs.REMOTE_REMOVE, db, model );
  },

  destroyLocalUncachedModel: function(model, key)
  {
    var db = this;

    if ( model )
    {
      if ( model.$hasChanges() )
      {
        delete model.$saved;

        db.removeKey( model );

        model.$trigger( Model.Events.Detach );

        return false;
      }

      db.destroyModel( model, key );

      return true;
    }

    return false;
  },

  destroyLocalCachedModel: function(model, key)
  {
    var db = this;

    if ( model )
    {
      // If a model was removed remotely but the model has changes - don't remove it.
      if ( model.$hasChanges() )
      {
        // Removed saved history and the current ID
        delete model.$saved;

        db.removeKey( model );

        if ( model.$local )
        {
          delete model.$local.$saved;

          db.removeKey( model.$local );
        }

        model.$trigger( Model.Events.Detach );

        model.$addOperation( SaveNow );

        return false;
      }

      model.$addOperation( RemoveNow );

      db.destroyModel( model, key );
    }
    else
    {
      db.store.remove( key, function(removedValue)
      {
        if (removedValue)
        {
          Rekord.debug( Rekord.Debugs.REMOTE_REMOVE, db, removedValue );
        }
      });

      // The model didn't exist
      return false;
    }

    return true;
  },

  // Destroys a model locally because it doesn't exist remotely
  destroyLocalModel: function(key)
  {
    var db = this;
    var model = db.all[ key ];

    if ( db.cache === Cache.All )
    {
      return db.destroyLocalCachedModel( model, key );
    }
    else
    {
      return db.destroyLocalUncachedModel( model, key );
    }
  },

  loadFinish: function()
  {
    var db = this;

    batchExecute(function()
    {
      for (var key in db.loaded)
      {
        var model = db.loaded[ key ];

        if ( model.$status === Model.Status.RemovePending )
        {
          Rekord.debug( Rekord.Debugs.LOCAL_RESUME_DELETE, db, model );

          model.$addOperation( RemoveRemote );
        }
        else
        {
          if ( model.$status === Model.Status.SavePending )
          {
            Rekord.debug( Rekord.Debugs.LOCAL_RESUME_SAVE, db, model );

            model.$addOperation( SaveRemote );
          }
          else
          {
            Rekord.debug( Rekord.Debugs.LOCAL_LOAD_SAVED, db, model );
          }

          db.models.put( key, model, true );
        }
      }
    });

    db.loaded = {};
    db.updated();

    if ( db.hasLoad( Load.All ) )
    {
      if ( db.pendingOperations === 0 )
      {
        db.refresh();
      }
      else
      {
        db.firstRefresh = true;
      }
    }
  },

  hasLoad: function(load)
  {
    return (this.load &amp; load) !== 0;
  },

  loadBegin: function(onLoaded)
  {
    var db = this;

    function onLocalLoad(records, keys)
    {
      Rekord.debug( Rekord.Debugs.LOCAL_LOAD, db, records );

      for (var i = 0; i &lt; records.length; i++)
      {
        var encoded = records[ i ];
        var key = keys[ i ];
        var decoded = db.decode( copy( encoded, true ) );
        var model = db.instantiate( decoded, true );

        model.$local = encoded;
        model.$saved = encoded.$saved;

        if ( model.$status !== Model.Status.Removed )
        {
          db.loaded[ key ] = model;
          db.all[ key ] = model;
        }
      }

      db.localLoaded = true;
      db.triggerLoad( Database.Events.LocalLoad );

      onLoaded( true, db );
    }

    function onLocalError()
    {
      db.loadNone();

      onLoaded( false, db );
    }

    if ( db.hasLoad( Load.All ) &amp;&amp; db.autoRefresh )
    {
      Rekord.after( Rekord.Events.Online, db.onOnline, db );
    }

    if ( db.cache === Cache.None )
    {
      db.loadNone();

      onLoaded( false, db );
    }
    else
    {
      db.store.all( onLocalLoad, onLocalError );
    }
  },

  triggerLoad: function(loadEvent, additionalParameters)
  {
    var db = this;

    db.initialized = true;
    db.trigger( loadEvent, [ db ].concat( additionalParameters || [] ) );
    db.readyPromise.reset().resolve( db );
  },

  loadNone: function()
  {
    var db = this;

    if ( db.hasLoad( Load.All ) )
    {
      db.refresh();
    }
    else
    {
      db.triggerLoad( Database.Events.NoLoad );
    }
  },

  onOnline: function()
  {
    var db = this;

    db.afterOnline = true;

    if ( db.pendingOperations === 0 )
    {
      db.onOperationRest();
    }
  },

  onOperationRest: function()
  {
    var db = this;

    if ( ( db.autoRefresh &amp;&amp; db.remoteLoaded &amp;&amp; db.afterOnline ) || db.firstRefresh )
    {
      db.afterOnline = false;
      db.firstRefresh = false;

      Rekord.debug( Rekord.Debugs.AUTO_REFRESH, db );

      db.refresh();
    }
  },

  handleRefreshSuccess: function(promise)
  {
    var db = this;

    return function onRefreshSuccess(response)
    {
      var models = db.resolveModels( response );
      var mapped = {};

      for (var i = 0; i &lt; models.length; i++)
      {
        var model = db.putRemoteData( models[ i ] );

        if ( model )
        {
          var key = model.$key();

          mapped[ key ] = model;
        }
      }

      if ( db.allComplete )
      {
        var keys = db.models.keys().slice();

        for (var i = 0; i &lt; keys.length; i++)
        {
          var k = keys[ i ];

          if ( !(k in mapped) )
          {
            var old = db.models.get( k );

            if ( old.$saved )
            {
              Rekord.debug( Rekord.Debugs.REMOTE_LOAD_REMOVE, db, k );

              db.destroyLocalModel( k );
            }
          }
        }
      }

      db.remoteLoaded = true;
      db.triggerLoad( Database.Events.RemoteLoad );

      db.updated();

      Rekord.debug( Rekord.Debugs.REMOTE_LOAD, db, models );

      promise.resolve( db.models );
    };
  },

  handleRefreshFailure: function(promise)
  {
    var db = this;

    return function onRefreshFailure(response, status)
    {
      if ( status === 0 )
      {
        Rekord.checkNetworkStatus();

        if ( !Rekord.online )
        {
          db.pendingRefresh = true;

          Rekord.once( Rekord.Events.Online, db.onRefreshOnline, db );
        }

        Rekord.debug( Rekord.Debugs.REMOTE_LOAD_OFFLINE, db );
      }
      else
      {
        Rekord.debug( Rekord.Debugs.REMOTE_LOAD_ERROR, db, status );

        db.triggerLoad( Database.Events.NoLoad, [response] );
      }

      promise.reject( db.models );
    };
  },

  executeRefresh: function(success, failure)
  {
    this.rest.all( success, failure );
  },

  // Loads all data remotely
  refresh: function(callback, context)
  {
    var db = this;
    var promise = new Promise();
    var success = this.handleRefreshSuccess( promise );
    var failure = this.handleRefreshFailure( promise );

    promise.complete( callback, context || db );

    batchExecute(function()
    {
      db.executeRefresh( success, failure );
    });

    return promise;
  },

  onRefreshOnline: function()
  {
    var db = this;

    Rekord.debug( Rekord.Debugs.REMOTE_LOAD_RESUME, db );

    if ( db.pendingRefresh )
    {
      db.pendingRefresh = false;

      db.refresh();
    }
  },

  // Returns a model
  get: function(key)
  {
    return this.all[ this.buildKeyFromInput( key ) ];
  },

  filter: function(isValid)
  {
    var all = this.all;
    var filtered = [];

    for (var key in all)
    {
      var model = all[ key ];

      if ( isValid( model ) )
      {
        filtered.push( model );
      }
    }

    return filtered;
  },

  liveSave: function(key, encoded)
  {
    this.putRemoteData( encoded, key );
    this.updated();

    Rekord.debug( Rekord.Debugs.REALTIME_SAVE, this, encoded, key );
  },

  liveRemove: function(key)
  {
    if ( this.destroyLocalModel( key ) )
    {
      this.updated();
    }

    Rekord.debug( Rekord.Debugs.REALTIME_REMOVE, this, key );
  },

  // Return an instance of the model with the data as initial values
  instantiate: function(data, remoteData)
  {
    return new this.Model( data, remoteData );
  },

  addReference: function(model)
  {
    this.all[ model.$key() ] = model;
  },

  // Save the model
  save: function(model, cascade)
  {
    var db = this;

    if ( model.$isDeleted() )
    {
      Rekord.debug( Rekord.Debugs.SAVE_DELETED, db, model );

      return;
    }

    var key = model.$key();
    var existing = db.models.has( key );

    if ( existing )
    {
      db.trigger( Database.Events.ModelUpdated, [model] );

      model.$trigger( Model.Events.UpdateAndSave );
    }
    else
    {
      db.models.put( key, model );
      db.trigger( Database.Events.ModelAdded, [model] );
      db.updated();

      model.$trigger( Model.Events.CreateAndSave );
    }

    model.$addOperation( SaveLocal, cascade );
  },

  // Remove the model
  remove: function(model, cascade)
  {
    var db = this;

    // If we have it in the models, remove it!
    this.removeFromModels( model );

    // If we're offline and we have a pending save - cancel the pending save.
    if ( model.$status === Model.Status.SavePending )
    {
      Rekord.debug( Rekord.Debugs.REMOVE_CANCEL_SAVE, db, model );
    }

    model.$status = Model.Status.RemovePending;

    model.$addOperation( RemoveLocal, cascade );
  },

  removeFromModels: function(model)
  {
    var db = this;
    var key = model.$key();

    if ( db.models.has( key ) )
    {
      db.models.remove( key );
      db.trigger( Database.Events.ModelRemoved, [model] );
      db.updated();

      model.$trigger( Model.Events.Removed );
    }
  }

});

addEventful( Database.prototype );
addEventFunction( Database.prototype, 'change', Database.Events.Changes );
</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu Jun 02 2016 01:15:39 GMT-0400 (EDT)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/jaguar.js"></script>
</body>
</html>
